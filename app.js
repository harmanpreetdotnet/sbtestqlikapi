const a0_0x42f9ea=a0_0x1579;(function(_0x2ea319,_0x3e455c){const _0x2aefaa=a0_0x1579,_0x26fd27=_0x2ea319();while(!![]){try{const _0x651fa2=-parseInt(_0x2aefaa(0x235))/0x1+parseInt(_0x2aefaa(0x229))/0x2*(parseInt(_0x2aefaa(0x299))/0x3)+parseInt(_0x2aefaa(0x1e7))/0x4+-parseInt(_0x2aefaa(0x1b9))/0x5+-parseInt(_0x2aefaa(0x2f5))/0x6*(-parseInt(_0x2aefaa(0x33a))/0x7)+-parseInt(_0x2aefaa(0x25e))/0x8*(parseInt(_0x2aefaa(0x30d))/0x9)+-parseInt(_0x2aefaa(0x2a4))/0xa*(-parseInt(_0x2aefaa(0x251))/0xb);if(_0x651fa2===_0x3e455c)break;else _0x26fd27['push'](_0x26fd27['shift']());}catch(_0x87155a){_0x26fd27['push'](_0x26fd27['shift']());}}}(a0_0x3fb8,0xf0e4f));import a0_0x421db1 from'express';import a0_0xbeccfe from'ws';import a0_0x307930 from'dotenv';import a0_0xd728b from'crypto';import a0_0x11eedb from'fs';import a0_0x59e48b from'node-fetch';function a0_0x1579(_0x132944,_0x4e5d97){_0x132944=_0x132944-0x172;const _0x3fb855=a0_0x3fb8();let _0x157993=_0x3fb855[_0x132944];return _0x157993;}a0_0x307930['config']();const app=a0_0x421db1(),PORT=process[a0_0x42f9ea(0x269)][a0_0x42f9ea(0x2c9)]||0xbb8,COSMOS_BASE_API=process[a0_0x42f9ea(0x269)][a0_0x42f9ea(0x1c0)],API_KEY=process[a0_0x42f9ea(0x269)]['API_KEY'];(!COSMOS_BASE_API||!API_KEY)&&(console[a0_0x42f9ea(0x247)](a0_0x42f9ea(0x2fe)),process[a0_0x42f9ea(0x1cf)](0x1));function a0_0x3fb8(){const _0x3d8af0=['get','Min(','trim','includes','name','qDataPages','&spaceId=','path','resident','OpenDoc','/hasSectionAccess','Relationships:','\x20due\x20to\x20range','$ascii','Fetching\x20stories','Failed\x20to\x20fetch\x20spaces:\x20','dataFiles','/title','\x20fetching\x20connections','qMeasureList','FieldList','split','\x20or\x20','qMeasureInfo','MeasureList','lastIndex','?xrfkey=','qMatrix','/api/v1/data-files?spaceId=','port','qLayout','table',',\x20Max:\x20','qLineage','attributes','snowflake','8047230uvsRAv','qnTotalDistinctValues','qHandle','Inline\x20data','isInteger','qTags','INLINE','COSMOS_BASE_API','qDimensionList','No\x20numeric\x20fields,\x20skipping\x20hypercube\x20for\x20stats','enforced:\x20bridge\x20many\x20side','Error\x20fetching\x20properties\x20for\x20sheet\x20','GetScript','\x20fetching\x20data\x20files','Fetching\x20lineage','lon','orientation-corrected:\x20label\x20flipped\x20to\x20many-to-one\x20based\x20on\x20distinct/row\x20counts','stories','hex','Missing\x20Authorization\x20Header','undefined','qFieldDefs','exit','ACCOUNTADMIN','Processed\x20measure:','/qlik','title','query','prototype','\x20(code:\x20','Error\x20fetching\x20story\x20','qnDistinct','Processing\x20stories:','qInfo','toString','substring','spaceId','\x20due\x20to\x20null\x20min/max','sourceType','SheetList','Creating\x20FieldList\x20object','No\x20bridge/junction\x20table\x20detected\x20(conservative\x20rules).','close','TEXT','Timeout\x20for\x20critical\x20request\x20id\x20','qOriginalFields','4344536VbpmDZ','&personal=true','qnPresentDistinctValues','Global\x20timeout\x20reached','slide','assign','qMeta','qNumFormat','warehouse','AMOUNT','authorization','csv','No\x20confident\x20match\x20for\x20','Error\x20fetching\x20data\x20files\x20via\x20REST:','cardinality','original','Error\x20fetching\x20snapshot\x20image\x20for\x20','tables','Raw\x20stats:','connectionString','created','\x5c[\x5cs*','/visualizationType','delete','ðŸš€\x20Server\x20running\x20on\x20port\x20','test','No\x20Authorization\x20header\x20provided','Error\x20fetching\x20layout\x20for\x20dimension\x20index\x20','Requesting\x20MeasureList\x20layout','one-to-many','state','Removed\x20direct\x20parent-parent\x20relationships\x20(enforced\x20bridge\x20model):','NaN','Raw\x20measures:','appId','qReturn','time','\x20-\x20','stringify','qChildren','note','log','/measures/:appId','/thumbnail?xrfkey=','type','Error\x20fetching\x20properties\x20for\x20story\x20','lat','DATE','GET','qNoOfRows','GetProperties','Error\x20fetching\x20app\x20spaceId:','/getApps/:spaceId','maxVal','set','qvd','qProperty','story','keyFields','\x5cs*\x5c]:[\x5cs\x5cS]*?(?=\x5cr?\x5cn\x5c[|$)','country','/srcPath','Matched\x20','sort','qtr','/stories/:appId','786056KMInSF','https://','message','startsWith','excel','fields','Request\x20timeout\x20for\x20id:\x20','\x20on\x20','driver','Partial\x20dimension:','transformation','qAppObjectList','1809005XvaCAr','data:image/png;base64,','Connection\x20names\x20from\x20script:','dimensions','Returning\x20TIME_HHMMSS\x20for\x20','json','qMetaDef','creationDate','Request\x20timeout','min','connection_details','table1','randomBytes','/qMetaDef/title','$integer','StoryList','qRows','/objects/','error','qNum',',\x20tables\x20empty','No\x20direct\x20parent-parent\x20relationships\x20removed\x20(none\x20matched\x20or\x20already\x20absent).','open','push',')\x5cb','Relationships\x20(computed\x20from\x20qtr\x20metadata,\x20pre-bridge):','Lineage\x20item:','alias','11cQyept','qDimensionInfo','qConnections','Error\x20fetching\x20dimension\x20','/ratio','cardinality-flipped:\x20left->right\x20label\x20corrected\x20to\x20match\x20counts','WebSocket\x20response:','/style','Connections\x20from\x20Engine\x20API:','GetObject','Error\x20fetching\x20sheet\x20','text','qSrcTables','113336npkPmL',',\x20max=','many-to-one','Field\x20stats:','qType','Fetching\x20connections','nature','add','No\x20fields\x20available\x20for\x20measure\x20','Processing\x20dimensions:','DATE_SERIAL','env','/position','Error\x20creating\x20hypercube\x20for\x20dimension\x20index\x20',':\x20HTTP\x20','AUTOGENERATE','snapshot','GetLineage','Processed\x20dimension\x20with\x20type:','index','Qlik\x20error:\x20','/rank','\x20due\x20to\x20qType=D','Fallback\x20for\x20dimension\x20','qDim','TIME_FRACTION','database','distinctValues','qStatement','azure','$text','findIndex','field2','qFields','cardinality-label-fix\x20error:','measures','$timestamp','TimeDetect','qDiscriminator',',\x20Min:\x20','keys','Processed\x20story\x20','toLowerCase',',\x20Cardinal:\x20','lib://','unknown','Fetching\x20tables\x20and\x20relationships','number','isArray','HTTP\x20','data','field1','\x5c$&','/api/v1/data-files?limit=100','Fetching\x20measures','Error\x20fetching\x20story\x20thumbnail\x20for\x20','/api/v1/spaces','FieldList\x20items:','\x20overlapping\x20fields)','9AjBuSd','from','ðŸ”\x20Retrying\x20in\x20','.snowflakecomputing.com',')\x20or\x20qName\x20eq\x20\x22DataFiles\x22','/datasources/:appId','Final\x20data\x20files:','description','Connections\x20from\x20REST\x20API:','xlsx','Failed\x20to\x20fetch\x20apps:\x20','27907930pjXhDw','TIME_UNKNOWN','many-to-many','Final\x20table\x20sources:','UNKNOWN','sheet','Fetched\x20data\x20files:','NUMBER','linkedTables','filterpane','block','Final\x20relationships\x20after\x20cardinality\x20and\x20bridge\x20enforcement:','qCardinal',',\x20qType=','Detecting\x20time\x20nature\x20for\x20',':\x20qProp\x20or\x20qDim\x20missing','Creating\x20HyperCube\x20for\x20numeric\x20field\x20stats','INTEGER','.autoCalendar.','TIME_EPOCH','Invalid\x20Qlik\x20tenant\x20response','minVal','rank','/thumbnail','qName','/sheetId','ping','qConnectStatement','QVD/CSV/Excel\x20files\x20from\x20lineage:','RESIDENT','hasOwnProperty','/getSpaces','base64','Failed\x20to\x20fetch\x20app\x20details:\x20HTTP\x20','qKeyFields','synthesized:\x20enforced\x20parent->bridge','listbox','PORT','schema','one-to-one','Final\x20fieldsByTable:','GetTablesAndKeys','filter','orientation-corrected:\x20label\x20flipped\x20to\x20one-to-many\x20based\x20on\x20distinct/row\x20counts','Requesting\x20DimensionList\x20layout','pop','server_url','\x0a\x0a//\x20CONCATENATED\x20SOURCE:\x0a','[ERROR]\x20/getApps:','format','some','\x20due\x20to\x20qType=T','qDef','/api/v1/apps/','params','qLabelExpression','Error\x20fetching\x20measure\x20','autogenerate','ODBC','CreateSessionObject','qPropEntry','has','/fields/:appId','qConnectionString','/qMetaDef/description','host','catch','status','GetFullPropertyTree','Returning\x20DATE_SERIAL\x20for\x20','Returning\x20TIME_FRACTION\x20for\x20','Final\x20filtered\x20connections:','max','dimension','qMeasure','fromEntries','/dataPath','DECIMAL','listen','ðŸ’“\x20Keep-alive\x20failed:','TIME_SECONDS','9180naQnaS','isFallback',':\x20min=','sql\x20server','LATITUDE','source','replace','find','2.0','QLIK_TENANT\x20or\x20API_KEY\x20missing\x20in\x20.env','variables','qId','relationships','application/json','âœ…\x20Metadata\x20session\x20completed\x20successfully','match','entries','Requesting\x20StoryList\x20layout','WebSocket\x20closed\x20with\x20code:\x20','Error\x20fetching\x20properties\x20for\x20dimension\x20','map','qFmt','azuresql','values','1089tLckHc','call','/visualization','source_connector','data_file','\x5cb(','distinctValues_table2','tableRowCounts','\x0a\x0a//\x20---\x20Final\x20Transformation\x20(Resident\x20Load)\x20---\x0a','DimensionList','dim','every','RESIDENT\x20','Requesting\x20SheetList\x20layout','exec','Field\x20data\x20for\x20mapQlikType:','Bearer\x20','qProp','sqlserver','qText','image/png','computeCardinalityAndEnforceBridges\x20error:','headers','result','STRING','$date','s...','qName\x20eq\x20\x22DataFiles\x22','all','Fetching\x20script','measure','qItems','table2','previous_name',',\x20Tags:\x20','\x5c$\x5c(','Returning\x20TIME_EPOCH\x20for\x20','GetLayout','join','/health','lib://datafiles/','QueryResult-','toUpperCase','personal','length','4865xcHOlQ','qProp\x20or\x20qMeasure\x20missing','inline','then','CreateObject','WebSocket\x20closed\x20unexpectedly','code','parse','/api/v1/data-connections?limit=100','qHyperCube','buffer','$numeric','forEach','Bridge\x20detection\x20skipped\x20â€”\x20qk\x20not\x20available.','SELECT','qMin','Returning\x20TIME_UNKNOWN\x20for\x20','\x20(CALCULATED)','size','\x20|\x20','\x20to\x20','qFieldList','assigned_variable','/dimensions/:appId','role','qScript','splice','qData','AnonymousSource_','\x20as\x20fallback','/app/','DataFiles','WebSocket\x20connected','qnRows','DimType','send','Extracted\x20variables:'];a0_0x3fb8=function(){return _0x3d8af0;};return a0_0x3fb8();}async function getQlikTenant(_0xe4f8bc){const _0x413329=a0_0x42f9ea;try{const _0x146678=await a0_0x59e48b(COSMOS_BASE_API+_0x413329(0x1d2),{'method':_0x413329(0x217),'headers':{'Authorization':_0xe4f8bc,'Accept':_0x413329(0x302)}});if(!_0x146678['ok'])throw new Error('Failed\x20to\x20fetch\x20Qlik\x20tenant:\x20HTTP\x20'+_0x146678[_0x413329(0x2e7)]);const _0x5d66d0=await _0x146678['json']();if(_0x5d66d0[_0x413329(0x339)]!==0x1||!_0x5d66d0[0x0][_0x413329(0x2d2)])throw new Error(_0x413329(0x2b8));let _0x1dcee5=_0x5d66d0[0x0]['server_url'];return _0x1dcee5=_0x1dcee5['replace'](/^https?:\/\//,''),_0x1dcee5;}catch(_0x288d9d){console[_0x413329(0x247)]('Error\x20fetching\x20Qlik\x20tenant:',_0x288d9d[_0x413329(0x22b)]),process['exit'](0x1);}}function mapQlikType(_0xa19e30){const _0x3cc03b=a0_0x42f9ea,_0x5c36ce=_0xa19e30[_0x3cc03b(0x1be)]||[],_0x7bea73=_0xa19e30[_0x3cc03b(0x2b9)]??null,_0x5cea37=_0xa19e30[_0x3cc03b(0x21c)]??null,_0x28b496=_0xa19e30[_0x3cc03b(0x2b0)]??null,_0x5e3682=_0xa19e30[_0x3cc03b(0x2bc)][_0x3cc03b(0x288)](),_0x78ce35=_0xa19e30['qNumFormat']||{};console[_0x3cc03b(0x210)]('Field:\x20'+_0xa19e30[_0x3cc03b(0x2bc)]+_0x3cc03b(0x32f)+_0x5c36ce+_0x3cc03b(0x285)+_0x7bea73+_0x3cc03b(0x1b5)+_0x5cea37+_0x3cc03b(0x289)+_0x28b496+',\x20NumFormat:\x20'+JSON[_0x3cc03b(0x20d)](_0x78ce35));function _0x1c394b(_0x4a87e1,_0x486cec,_0x1e86ea){const _0x265590=_0x3cc03b;console[_0x265590(0x210)](_0x265590(0x2b2)+_0xa19e30[_0x265590(0x2bc)]+_0x265590(0x2f7)+_0x4a87e1+_0x265590(0x25f)+_0x486cec+_0x265590(0x2b1)+_0x1e86ea[_0x265590(0x262)]);if(_0x1e86ea['qType']==='T')return console[_0x265590(0x210)](_0x265590(0x2ea)+_0xa19e30[_0x265590(0x2bc)]+_0x265590(0x2d7)),_0x265590(0x277);if(_0x1e86ea[_0x265590(0x262)]==='D')return console[_0x265590(0x210)](_0x265590(0x2e9)+_0xa19e30[_0x265590(0x2bc)]+_0x265590(0x274)),_0x265590(0x268);if(_0x4a87e1===null||_0x486cec===null)return console['log'](_0x265590(0x180)+_0xa19e30[_0x265590(0x2bc)]+_0x265590(0x1de)),_0x265590(0x2a5);if(_0x4a87e1>=0x9c40&&_0x486cec<=0xc350)return console[_0x265590(0x210)](_0x265590(0x2e9)+_0xa19e30[_0x265590(0x2bc)]+_0x265590(0x1a1)),_0x265590(0x268);if(_0x4a87e1>=0x0&&_0x486cec<=1.0000001)return console['log'](_0x265590(0x2ea)+_0xa19e30[_0x265590(0x2bc)]+_0x265590(0x1a1)),_0x265590(0x277);if(_0x4a87e1>=0x0&&_0x486cec<=0x15180)return console[_0x265590(0x210)]('Returning\x20TIME_SECONDS\x20for\x20'+_0xa19e30[_0x265590(0x2bc)]+_0x265590(0x1a1)),_0x265590(0x2f4);if(_0x4a87e1>=0x0&&_0x486cec<=0x399b7)return console['log'](_0x265590(0x239)+_0xa19e30[_0x265590(0x2bc)]+'\x20due\x20to\x20range'),'TIME_HHMMSS';if(_0x4a87e1>0x3b9aca00&&_0x486cec>0x3b9aca00)return console[_0x265590(0x210)](_0x265590(0x331)+_0xa19e30[_0x265590(0x2bc)]+_0x265590(0x1a1)),_0x265590(0x2b7);return console[_0x265590(0x210)]('Returning\x20TIME_UNKNOWN\x20for\x20'+_0xa19e30[_0x265590(0x2bc)]+_0x265590(0x18d)),'TIME_UNKNOWN';}let _0x111f82={'type':_0x3cc03b(0x325),'nature':'UNKNOWN','format':null};if(_0x5c36ce[_0x3cc03b(0x198)](_0x3cc03b(0x17b))||_0x78ce35[_0x3cc03b(0x262)]==='R'||_0x78ce35[_0x3cc03b(0x262)]==='I'){if(_0x5c36ce[_0x3cc03b(0x198)](_0x3cc03b(0x282))||_0x5c36ce[_0x3cc03b(0x198)](_0x3cc03b(0x326))||_0x5e3682[_0x3cc03b(0x198)](_0x3cc03b(0x20b))||_0x5e3682[_0x3cc03b(0x198)]('date')||_0x78ce35[_0x3cc03b(0x262)]==='D'||_0x78ce35[_0x3cc03b(0x262)]==='T'){const _0x8ac79=_0x1c394b(_0x7bea73,_0x5cea37,_0x78ce35);_0x111f82={'type':_0x3cc03b(0x216),'nature':_0x8ac79,'format':_0x78ce35[_0x3cc03b(0x30a)]||null};}else{let _0x1a5c54=_0x3cc03b(0x1f0);if(_0x5c36ce[_0x3cc03b(0x198)](_0x3cc03b(0x243))||_0x78ce35[_0x3cc03b(0x262)]==='I')_0x1a5c54=_0x3cc03b(0x2b5);else _0x7bea73!==null&&_0x5cea37!==null&&Number[_0x3cc03b(0x1bd)](_0x7bea73)&&Number[_0x3cc03b(0x1bd)](_0x5cea37)&&(!_0x78ce35['qFmt']||!_0x78ce35[_0x3cc03b(0x30a)]['includes']('.'))?_0x1a5c54=_0x3cc03b(0x2b5):_0x1a5c54=_0x3cc03b(0x2f1);if(_0x7bea73!==null&&_0x5cea37!==null&&(_0x5e3682[_0x3cc03b(0x198)](_0x3cc03b(0x215))||_0x5e3682[_0x3cc03b(0x198)](_0x3cc03b(0x1c8))||_0x5c36ce[_0x3cc03b(0x198)]('$geopoint'))){if(_0x7bea73>=-0xb4&&_0x5cea37<=0xb4&&_0x28b496>0x1)_0x1a5c54='LONGITUDE';else _0x7bea73>=-0x5a&&_0x5cea37<=0x5a&&_0x28b496>0x1&&(_0x1a5c54=_0x3cc03b(0x2f9));}_0x111f82={'type':'NUMBER','nature':_0x1a5c54,'format':_0x78ce35['qFmt']||null};}}else{if(_0x5c36ce[_0x3cc03b(0x198)](_0x3cc03b(0x1a2))||_0x5c36ce[_0x3cc03b(0x198)](_0x3cc03b(0x27c))){if(_0x28b496<=0xc8&&_0x5e3682[_0x3cc03b(0x198)](_0x3cc03b(0x223)))_0x111f82={'type':_0x3cc03b(0x325),'nature':'COUNTRY','format':null};else _0x28b496<=0xc8&&_0x5e3682['includes'](_0x3cc03b(0x205))?_0x111f82={'type':_0x3cc03b(0x325),'nature':'STATE','format':null}:_0x111f82={'type':_0x3cc03b(0x325),'nature':'TEXT','format':null};}}return _0x111f82;}function escapeRegExp(_0x5003a8){const _0x53be54=a0_0x42f9ea;return _0x5003a8[_0x53be54(0x2fb)](/[.*+?^${}()|[\]\\]/g,_0x53be54(0x292));}function extractTableBlock(_0x298f75,_0x25cd2a){const _0x42de42=a0_0x42f9ea;if(!_0x298f75||!_0x25cd2a)return null;const _0x2f237b=new RegExp(_0x42de42(0x1fc)+escapeRegExp(_0x25cd2a)+_0x42de42(0x222),'i'),_0x26d4ee=_0x298f75[_0x42de42(0x304)](_0x2f237b);return _0x26d4ee?_0x26d4ee[0x0]:null;}function getSpecificType(_0x1aade2,_0x12c5a5){const _0x246ba2=a0_0x42f9ea,_0x39c0d3=_0x12c5a5['toLowerCase']();if(_0x1aade2==='folder')return'folder';if(_0x1aade2['includes'](_0x246ba2(0x2de))||_0x1aade2[_0x246ba2(0x198)]('OLEDB')||_0x1aade2==='CUSTOM'){if(_0x39c0d3[_0x246ba2(0x198)](_0x246ba2(0x1b8)))return _0x246ba2(0x1b8);if(_0x39c0d3[_0x246ba2(0x198)](_0x246ba2(0x27b)))return _0x246ba2(0x30b);if(_0x39c0d3['includes'](_0x246ba2(0x2f8)))return _0x246ba2(0x31f);return _0x246ba2(0x278);}return _0x1aade2[_0x246ba2(0x288)]();}function parseConnectionString(_0xbe6fb1){const _0xa14b11=a0_0x42f9ea,_0x34fd12=_0xbe6fb1['match'](/CUSTOM\s+CONNECT\s+TO\s+\"(.*?)\";?$/i);if(!_0x34fd12)return{};const _0x2b3007=_0x34fd12[0x1],_0x167a2f=_0x2b3007['split'](';')[_0xa14b11(0x2ce)](_0x46f0f5=>_0x46f0f5['trim']()),_0x3d0c3a={'provider':'','driver':'','source_connector':'','server':'','port':'','database':'','schema':'','warehouse':'COMPUTE_WH','role':_0xa14b11(0x1d0)};return _0x167a2f['forEach'](_0xeda4a3=>{const _0x290a41=_0xa14b11,[_0x47957f,..._0xb8d3fe]=_0xeda4a3[_0x290a41(0x1aa)]('='),_0x20779c=_0xb8d3fe[_0x290a41(0x333)]('=')['trim']();if(_0x47957f&&_0x20779c){const _0x3db7e6=_0x47957f['toLowerCase']();if(_0x3db7e6===_0x290a41(0x231))_0x3d0c3a[_0x290a41(0x231)]=_0x20779c,_0x3d0c3a[_0x290a41(0x310)]=_0x20779c;else{if(_0x3db7e6==='server'||_0x3db7e6===_0x290a41(0x2e5))_0x3d0c3a['server']=_0x20779c;else{if(_0x3db7e6==='port')_0x3d0c3a[_0x290a41(0x1b2)]=_0x20779c;else{if(_0x3db7e6==='database')_0x3d0c3a[_0x290a41(0x278)]=_0x20779c;else{if(_0x3db7e6===_0x290a41(0x2ca))_0x3d0c3a['schema']=_0x20779c;else{if(_0x3db7e6===_0x290a41(0x1ef))_0x3d0c3a['warehouse']=_0x20779c;else{if(_0x3db7e6===_0x290a41(0x188))_0x3d0c3a[_0x290a41(0x188)]=_0x20779c;else _0x3db7e6==='account'&&(_0x3d0c3a['server']=_0x20779c+_0x290a41(0x29c));}}}}}}}}),_0x3d0c3a;}async function getAppMetadata(_0x203f3a,_0x2f4813){const _0x256b2b=a0_0x42f9ea,_0x134283=await getQlikTenant(_0x2f4813);let _0x49ad49=null;try{const _0x3c2554=_0x256b2b(0x22a)+_0x134283+_0x256b2b(0x2d9)+_0x203f3a,_0x298b74=await a0_0x59e48b(_0x3c2554,{'method':'GET','headers':{'Authorization':'Bearer\x20'+API_KEY,'Accept':_0x256b2b(0x302)}});if(!_0x298b74['ok'])console['error'](_0x256b2b(0x2c5)+_0x298b74[_0x256b2b(0x2e7)]);else{const _0x11a0c0=await _0x298b74['json']();_0x49ad49=_0x11a0c0['attributes']?.[_0x256b2b(0x1dd)]||null,console[_0x256b2b(0x210)]('App\x20spaceId:\x20'+_0x49ad49);}}catch(_0x3c87c6){console[_0x256b2b(0x247)](_0x256b2b(0x21a),_0x3c87c6[_0x256b2b(0x22b)]);}const _0x5d7f73=a0_0xd728b['randomBytes'](0x8)[_0x256b2b(0x1db)](_0x256b2b(0x1cb)),_0x44d87a='wss://'+_0x134283+_0x256b2b(0x18e)+_0x203f3a+_0x256b2b(0x1af)+_0x5d7f73;return new Promise((_0x3ff1e4,_0x8669fd)=>{const _0x309d6d=_0x256b2b,_0x582313=new a0_0xbeccfe(_0x44d87a,{'headers':{'Authorization':_0x309d6d(0x31d)+API_KEY,'x-qlik-xrfkey':_0x5d7f73}}),_0x2df191=setTimeout(()=>{const _0x750911=_0x309d6d;console['log'](_0x750911(0x1ea)),_0x8669fd(new Error('Timed\x20out\x20waiting\x20for\x20metadata')),_0x582313[_0x750911(0x1e3)]();},0x493e0),_0x1a646c=new Map();let _0x2b0354=null,_0x3f0739=null,_0x57092d=[],_0xd58002=[],_0x57e0b5=[],_0x5d4504=[],_0xb32999=[],_0x1c1637=[],_0x959a2={},_0x46e492={},_0x4ecfae={},_0x504466={},_0x4f93e5=0x0,_0x14c6b7=0x0,_0xbe0092=0x0,_0x4a9a15=0x0,_0x9fbac3=[],_0x2d10a1=[],_0x46cbbd=[],_0x27bd3b=[],_0x2902b6=[],_0x1758c6=0x0,_0x39481e=0x0,_0x40a253=[],_0x2412e8=[],_0x3e0952=0x0,_0x2a2e35=0x0,_0x19124b=new Set(),_0x125030=[];function _0x35c4b9(_0x230816){const _0x41e5f0=_0x309d6d,_0x516ed2=_0x230816['id'];if(_0x516ed2!==undefined){console[_0x41e5f0(0x210)]('Sending\x20message\x20with\x20id:\x20'+_0x516ed2);const _0x2109b1=setTimeout(()=>_0x4ab3f1(_0x516ed2),0x7530);_0x1a646c[_0x41e5f0(0x21d)](_0x516ed2,_0x2109b1);}_0x582313[_0x41e5f0(0x193)](JSON[_0x41e5f0(0x20d)](_0x230816));}function _0x16489e(_0x53d0d4){const _0x1210f8=_0x309d6d,_0x144651=_0x1a646c[_0x1210f8(0x195)](_0x53d0d4);_0x144651&&(clearTimeout(_0x144651),_0x1a646c[_0x1210f8(0x1fe)](_0x53d0d4));}function _0x30c82a(){const _0x551f28=_0x309d6d;_0xbe0092===_0x4f93e5&&(console[_0x551f28(0x210)](_0x551f28(0x294)),_0x35c4b9({'jsonrpc':_0x551f28(0x2fd),'id':0x8,'method':'CreateObject','handle':_0x2b0354,'params':[{'qInfo':{'qType':_0x551f28(0x1ad)},'qMeasureListDef':{'qType':_0x551f28(0x32b)}}]}));}function _0x434254(){const _0x335d31=_0x309d6d;_0x4a9a15===_0x14c6b7&&(console['log'](_0x335d31(0x28c)),_0x35c4b9({'jsonrpc':_0x335d31(0x2fd),'id':0xa,'method':_0x335d31(0x2cd),'handle':_0x2b0354,'params':[{'qcx':0xc8,'qcy':0xc8},{'qcx':0x0,'qcy':0x0},0x0,![],![]]}));}function _0x151213(){const _0x3b7fe1=_0x309d6d;_0x39481e===_0x1758c6&&(console['log'](_0x3b7fe1(0x1a3)),_0x35c4b9({'jsonrpc':_0x3b7fe1(0x2fd),'id':0x10,'method':_0x3b7fe1(0x2df),'handle':_0x2b0354,'params':[{'qInfo':{'qType':_0x3b7fe1(0x244)},'qAppObjectListDef':{'qType':_0x3b7fe1(0x220),'qData':{'title':_0x3b7fe1(0x242),'description':_0x3b7fe1(0x2e4),'thumbnail':_0x3b7fe1(0x2bb),'creationDate':'/creationDate','rank':'/rank'}}}]}));}function _0x4620c7(){const _0x1769fd=_0x309d6d;_0x2a2e35===_0x3e0952&&(clearTimeout(_0x2df191),_0x3ff1e4({'appId':_0x203f3a,'tables':_0x46e492,'dimensions':_0x57e0b5,'measures':_0x5d4504,'relationships':_0xb32999,'connections':_0x1c1637,'dataFiles':_0x46cbbd,'sheets':_0x27bd3b,'stories':_0x40a253}),_0x582313[_0x1769fd(0x1e3)]());}function _0x3da095(_0x5bf5dc,_0xdb4fba){const _0x8583ab=_0x309d6d,_0x31ac82=_0x9fbac3[_0x5bf5dc];console['log'](_0x8583ab(0x254)+(_0x31ac82?.[_0x8583ab(0x1da)]?.[_0x8583ab(0x300)]||_0x8583ab(0x28b))+':\x20'+_0xdb4fba),_0x125030[_0x5bf5dc]={'qInfo':_0x31ac82?.[_0x8583ab(0x1da)]||{},'qDim':{'qFieldDefs':[],'qFieldLabels':[],'qLabelExpression':'','title':_0x31ac82?.[_0x8583ab(0x1ed)]?.[_0x8583ab(0x1d3)]||''},'qMetaDef':{'title':_0x31ac82?.['qMeta']?.[_0x8583ab(0x1d3)]||'','description':_0x31ac82?.[_0x8583ab(0x1ed)]?.[_0x8583ab(0x2a0)]||'','tags':[]},'tables':[],'dataType':_0x8583ab(0x2a8)},_0x35c4b9({'jsonrpc':_0x8583ab(0x2fd),'id':0x2bc+_0x5bf5dc,'method':'CreateObject','handle':_0x2b0354,'params':[{'qInfo':{'qType':_0x8583ab(0x192)+_0x5bf5dc},'qHyperCubeDef':{'qDimensions':[{'qDef':_0x125030[_0x5bf5dc][_0x8583ab(0x276)]}],'qInitialDataFetch':[{'qTop':0x0,'qLeft':0x0,'qHeight':0xa,'qWidth':0x1}]}}]});}function _0x509571(_0x1b3e6d,_0x1f6868){const _0x19c493=_0x309d6d,_0x12e20e=_0x9fbac3[_0x1b3e6d];console[_0x19c493(0x210)](_0x19c493(0x308)+(_0x12e20e?.[_0x19c493(0x1da)]?.[_0x19c493(0x300)]||_0x19c493(0x28b))+':\x20'+_0x1f6868),_0x57e0b5[_0x19c493(0x24c)]({'qInfo':_0x12e20e?.[_0x19c493(0x1da)]||{},'qDim':{'qFieldDefs':[],'qFieldLabels':[],'qLabelExpression':'','title':_0x12e20e?.['qMeta']?.[_0x19c493(0x1d3)]||''},'qMetaDef':{'title':_0x12e20e?.[_0x19c493(0x1ed)]?.['title']||'','description':_0x12e20e?.['qMeta']?.[_0x19c493(0x2a0)]||'','tags':[]},'tables':[],'dataType':_0x19c493(0x2a8)}),_0xbe0092++,_0x30c82a();}function _0x2495d8(_0xdaa544,_0x11f5d7){const _0x3ebfab=_0x309d6d;console[_0x3ebfab(0x210)](_0x3ebfab(0x26b)+_0xdaa544+':\x20'+_0x11f5d7);const _0x391a5a=_0x125030[_0xdaa544]||{};_0x57e0b5[_0x3ebfab(0x24c)]({..._0x391a5a,'dataType':_0x3ebfab(0x2a8)}),_0xbe0092++,_0x30c82a();}function _0x4421b3(_0x532e89,_0x15aba2){const _0x1c98a6=_0x309d6d;console[_0x1c98a6(0x210)](_0x1c98a6(0x202)+_0x532e89+':\x20'+_0x15aba2);const _0x7b4a08=_0x125030[_0x532e89]||{};_0x57e0b5[_0x1c98a6(0x24c)]({..._0x7b4a08,'dataType':'UNKNOWN'}),_0xbe0092++,_0x30c82a();}function _0x26de48(_0x168820,_0x5e65fe){const _0x33f0b6=_0x309d6d,_0x1d3cb9=_0x2d10a1[_0x168820];console[_0x33f0b6(0x210)](_0x33f0b6(0x2dc)+(_0x1d3cb9?.[_0x33f0b6(0x1da)]?.[_0x33f0b6(0x300)]||_0x33f0b6(0x28b))+':\x20'+_0x5e65fe),_0x5d4504[_0x33f0b6(0x24c)]({'qInfo':_0x1d3cb9?.[_0x33f0b6(0x1da)]||{},'qMeasure':{'qLabel':_0x1d3cb9?.[_0x33f0b6(0x1ed)]?.[_0x33f0b6(0x1d3)]||'','qDef':''},'qMetaDef':{'title':_0x1d3cb9?.[_0x33f0b6(0x1ed)]?.[_0x33f0b6(0x1d3)]||'','description':_0x1d3cb9?.[_0x33f0b6(0x1ed)]?.['description']||'','tags':[]},'tables':[]}),_0x4a9a15++,_0x434254();}function _0x1114ec(_0x2ef2e2,_0x5dd16e){const _0x57e46f=_0x309d6d,_0x9c2379=_0x2d10a1[_0x2ef2e2];console['log']('Error\x20fetching\x20properties\x20for\x20measure\x20'+(_0x9c2379?.['qInfo']?.[_0x57e46f(0x300)]||_0x57e46f(0x28b))+':\x20'+_0x5dd16e),_0x5d4504[_0x57e46f(0x24c)]({'qInfo':_0x9c2379?.[_0x57e46f(0x1da)]||{},'qMeasure':{'qLabel':_0x9c2379?.['qMeta']?.[_0x57e46f(0x1d3)]||'','qDef':''},'qMetaDef':{'title':_0x9c2379?.['qMeta']?.[_0x57e46f(0x1d3)]||'','description':_0x9c2379?.[_0x57e46f(0x1ed)]?.[_0x57e46f(0x2a0)]||'','tags':[]},'tables':[]}),_0x4a9a15++,_0x434254();}function _0x24b27c(_0x39666b,_0x2fd6b4){const _0x235195=_0x309d6d,_0x4717c5=_0x2902b6[_0x39666b];console[_0x235195(0x210)](_0x235195(0x25b)+(_0x4717c5?.[_0x235195(0x1da)]?.[_0x235195(0x300)]||_0x235195(0x28b))+':\x20'+_0x2fd6b4),_0x27bd3b[_0x235195(0x24c)]({'qInfo':_0x4717c5?.[_0x235195(0x1da)]||{},'qMeta':_0x4717c5?.[_0x235195(0x1ed)]||{},'properties':{},'visualizations':[],'filters':[],'snapshots':[]}),_0x39481e++,_0x151213();}function _0x5357aa(_0x2694cf,_0x19905b){const _0x296bf6=_0x309d6d,_0x25d320=_0x2902b6[_0x2694cf];console[_0x296bf6(0x210)](_0x296bf6(0x1c4)+(_0x25d320?.[_0x296bf6(0x1da)]?.[_0x296bf6(0x300)]||_0x296bf6(0x28b))+':\x20'+_0x19905b),_0x27bd3b[_0x296bf6(0x24c)]({'qInfo':_0x25d320?.[_0x296bf6(0x1da)]||{},'qMeta':_0x25d320?.[_0x296bf6(0x1ed)]||{},'properties':{},'visualizations':[],'filters':[],'snapshots':[]}),_0x39481e++,_0x151213();}function _0x89d7ef(_0x1d8886,_0x40a45e){const _0x3e7ec2=_0x309d6d,_0x4aa71f=_0x2412e8[_0x1d8886];console['log'](_0x3e7ec2(0x1d7)+(_0x4aa71f?.[_0x3e7ec2(0x1da)]?.['qId']||_0x3e7ec2(0x28b))+':\x20'+_0x40a45e),_0x40a253[_0x3e7ec2(0x24c)]({'qProperty':{'qInfo':_0x4aa71f?.['qInfo']||{},'qMetaDef':_0x4aa71f?.[_0x3e7ec2(0x1ed)]||{},'creationDate':_0x4aa71f?.[_0x3e7ec2(0x18b)]?.['creationDate']||null,'rank':_0x4aa71f?.[_0x3e7ec2(0x18b)]?.[_0x3e7ec2(0x2ba)]||-0x1,'thumbnail':{'qStaticContentUrlDef':{}},'qChildListDef':{'qData':{'title':_0x3e7ec2(0x1a6),'rank':'/rank'}}},'qChildren':[]}),_0x2a2e35++,_0x4620c7();}function _0x42f05d(_0x10f854,_0x41d39a){const _0x3e4137=_0x309d6d,_0x238281=_0x2412e8[_0x10f854];console[_0x3e4137(0x210)](_0x3e4137(0x214)+(_0x238281?.[_0x3e4137(0x1da)]?.[_0x3e4137(0x300)]||'unknown')+':\x20'+_0x41d39a),_0x40a253[_0x3e4137(0x24c)]({'qProperty':{'qInfo':_0x238281?.['qInfo']||{},'qMetaDef':_0x238281?.['qMeta']||{},'creationDate':_0x238281?.[_0x3e4137(0x18b)]?.['creationDate']||null,'rank':_0x238281?.[_0x3e4137(0x18b)]?.[_0x3e4137(0x2ba)]||-0x1,'thumbnail':{'qStaticContentUrlDef':{}},'qChildListDef':{'qData':{'title':_0x3e4137(0x1a6),'rank':'/rank'}}},'qChildren':[]}),_0x2a2e35++,_0x4620c7();}function _0x4ab3f1(_0x2ccefc){const _0x4093e7=_0x309d6d;console[_0x4093e7(0x210)](_0x4093e7(0x22f)+_0x2ccefc),_0x1a646c[_0x4093e7(0x1fe)](_0x2ccefc);let _0x87c7a=![];if(_0x2ccefc>=0xc8&&_0x2ccefc<0x12c){const _0x447289=_0x2ccefc-0xc8;_0x3da095(_0x447289,_0x4093e7(0x23d)),_0x87c7a=!![];}else{if(_0x2ccefc>=0x12c&&_0x2ccefc<0x190){const _0x1dc458=_0x2ccefc-0x12c;_0x509571(_0x1dc458,_0x4093e7(0x23d)),_0x87c7a=!![];}else{if(_0x2ccefc>=0x2bc&&_0x2ccefc<0x320){const _0x4a7cff=_0x2ccefc-0x2bc;_0x2495d8(_0x4a7cff,_0x4093e7(0x23d)),_0x87c7a=!![];}else{if(_0x2ccefc>=0x320&&_0x2ccefc<0x384){const _0x566245=_0x2ccefc-0x320;_0x4421b3(_0x566245,_0x4093e7(0x23d)),_0x87c7a=!![];}else{if(_0x2ccefc>=0x190&&_0x2ccefc<0x1f4){const _0xd23c05=_0x2ccefc-0x190;_0x26de48(_0xd23c05,_0x4093e7(0x23d)),_0x87c7a=!![];}else{if(_0x2ccefc>=0x1f4&&_0x2ccefc<0x258){const _0x1860f1=_0x2ccefc-0x1f4;_0x1114ec(_0x1860f1,_0x4093e7(0x23d)),_0x87c7a=!![];}else{if(_0x2ccefc>=0x258&&_0x2ccefc<0x2bc){const _0x6e4d2b=_0x2ccefc-0x258;_0x24b27c(_0x6e4d2b,_0x4093e7(0x23d)),_0x87c7a=!![];}else{if(_0x2ccefc>=0x3e8&&_0x2ccefc<0x44c){const _0x2b7ea2=_0x2ccefc-0x3e8;_0x5357aa(_0x2b7ea2,'Request\x20timeout'),_0x87c7a=!![];}else{if(_0x2ccefc>=0x44c&&_0x2ccefc<0x4b0){const _0x374b00=_0x2ccefc-0x44c;_0x89d7ef(_0x374b00,'Request\x20timeout'),_0x87c7a=!![];}else{if(_0x2ccefc>=0x4b0&&_0x2ccefc<0x514){const _0x4b2b93=_0x2ccefc-0x4b0;_0x42f05d(_0x4b2b93,_0x4093e7(0x23d)),_0x87c7a=!![];}}}}}}}}}}!_0x87c7a&&(_0x8669fd(new Error(_0x4093e7(0x1e5)+_0x2ccefc)),_0x582313[_0x4093e7(0x1e3)]());}_0x582313['on'](_0x309d6d(0x24b),()=>{const _0x3e869d=_0x309d6d;console[_0x3e869d(0x210)](_0x3e869d(0x190));const _0x5e8e52=setInterval(()=>{const _0xcd9e31=_0x3e869d;_0x582313[_0xcd9e31(0x2be)](),console[_0xcd9e31(0x210)]('Sent\x20ping\x20to\x20keep\x20connection\x20alive');},0x7530);_0x582313['on']('close',()=>clearInterval(_0x5e8e52)),_0x35c4b9({'jsonrpc':'2.0','id':0x1,'method':_0x3e869d(0x19e),'handle':-0x1,'params':[_0x203f3a]});}),_0x582313['on'](_0x309d6d(0x22b),async _0x1a45ce=>{const _0x4063c3=_0x309d6d,_0x24a913=JSON[_0x4063c3(0x177)](_0x1a45ce[_0x4063c3(0x1db)]());console[_0x4063c3(0x210)](_0x4063c3(0x257),JSON['stringify'](_0x24a913,null,0x2));_0x24a913['id']!==undefined&&_0x16489e(_0x24a913['id']);if(_0x24a913[_0x4063c3(0x247)]){if(_0x24a913['id']>=0xc8&&_0x24a913['id']<0x12c){const _0x2d1575=_0x24a913['id']-0xc8;_0x3da095(_0x2d1575,_0x24a913['error'][_0x4063c3(0x22b)]);}else{if(_0x24a913['id']>=0x12c&&_0x24a913['id']<0x190){const _0x1a2125=_0x24a913['id']-0x12c;_0x509571(_0x1a2125,_0x24a913[_0x4063c3(0x247)][_0x4063c3(0x22b)]);}else{if(_0x24a913['id']>=0x2bc&&_0x24a913['id']<0x320){const _0x4de720=_0x24a913['id']-0x2bc;_0x2495d8(_0x4de720,_0x24a913['error'][_0x4063c3(0x22b)]);}else{if(_0x24a913['id']>=0x320&&_0x24a913['id']<0x384){const _0x5bd787=_0x24a913['id']-0x320;_0x4421b3(_0x5bd787,_0x24a913[_0x4063c3(0x247)][_0x4063c3(0x22b)]);}else{if(_0x24a913['id']>=0x190&&_0x24a913['id']<0x1f4){const _0x443c95=_0x24a913['id']-0x190;_0x26de48(_0x443c95,_0x24a913[_0x4063c3(0x247)]['message']);}else{if(_0x24a913['id']>=0x1f4&&_0x24a913['id']<0x258){const _0x71e8b8=_0x24a913['id']-0x1f4;_0x1114ec(_0x71e8b8,_0x24a913[_0x4063c3(0x247)][_0x4063c3(0x22b)]);}else{if(_0x24a913['id']===0xe||_0x24a913['id']===0xf||_0x24a913['id']>=0x258&&_0x24a913['id']<0x2bc||_0x24a913['id']>=0x3e8&&_0x24a913['id']<0x44c){if(_0x24a913['id']>=0x258&&_0x24a913['id']<0x2bc){const _0x258d25=_0x24a913['id']-0x258;_0x24b27c(_0x258d25,_0x24a913['error']['message']);}else{if(_0x24a913['id']>=0x3e8&&_0x24a913['id']<0x44c){const _0x2b94fc=_0x24a913['id']-0x3e8;_0x5357aa(_0x2b94fc,_0x24a913[_0x4063c3(0x247)][_0x4063c3(0x22b)]);}else clearTimeout(_0x2df191),_0x8669fd(new Error(_0x4063c3(0x272)+_0x24a913[_0x4063c3(0x247)][_0x4063c3(0x22b)]+_0x4063c3(0x1d6)+_0x24a913[_0x4063c3(0x247)][_0x4063c3(0x176)]+')')),_0x582313[_0x4063c3(0x1e3)]();}}else{if(_0x24a913['id']===0x10||_0x24a913['id']===0x11||_0x24a913['id']>=0x44c&&_0x24a913['id']<0x4b0||_0x24a913['id']>=0x4b0&&_0x24a913['id']<0x514){if(_0x24a913['id']>=0x44c&&_0x24a913['id']<0x4b0){const _0x1acedf=_0x24a913['id']-0x44c;_0x89d7ef(_0x1acedf,_0x24a913['error'][_0x4063c3(0x22b)]);}else{if(_0x24a913['id']>=0x4b0&&_0x24a913['id']<0x514){const _0x5af1d3=_0x24a913['id']-0x4b0;_0x42f05d(_0x5af1d3,_0x24a913[_0x4063c3(0x247)][_0x4063c3(0x22b)]);}else clearTimeout(_0x2df191),_0x8669fd(new Error('Qlik\x20error:\x20'+_0x24a913[_0x4063c3(0x247)]['message']+_0x4063c3(0x1d6)+_0x24a913['error'][_0x4063c3(0x176)]+')')),_0x582313[_0x4063c3(0x1e3)]();}}else clearTimeout(_0x2df191),_0x8669fd(new Error(_0x4063c3(0x272)+_0x24a913['error'][_0x4063c3(0x22b)]+_0x4063c3(0x1d6)+_0x24a913[_0x4063c3(0x247)]['code']+')')),_0x582313[_0x4063c3(0x1e3)]();}}}}}}}return;}_0x24a913['id']===0x1&&_0x24a913[_0x4063c3(0x324)]?.[_0x4063c3(0x20a)]?.[_0x4063c3(0x1bb)]&&(_0x2b0354=_0x24a913['result'][_0x4063c3(0x20a)][_0x4063c3(0x1bb)],console[_0x4063c3(0x210)](_0x4063c3(0x1e1)),_0x35c4b9({'jsonrpc':_0x4063c3(0x2fd),'id':0x2,'method':_0x4063c3(0x174),'handle':_0x2b0354,'params':[{'qInfo':{'qId':_0x4063c3(0x1a9),'qType':_0x4063c3(0x1a9)},'qFieldListDef':{'qShowSystem':![],'qShowHidden':![],'qShowDerivedFields':!![],'qShowSemantic':!![],'qShowSrcTables':!![]}}]}));_0x24a913['id']===0x2&&_0x24a913[_0x4063c3(0x324)]?.[_0x4063c3(0x20a)]?.[_0x4063c3(0x1bb)]&&(_0x3f0739=_0x24a913['result'][_0x4063c3(0x20a)][_0x4063c3(0x1bb)],console[_0x4063c3(0x210)]('Requesting\x20FieldList\x20layout'),_0x35c4b9({'jsonrpc':_0x4063c3(0x2fd),'id':0x3,'method':_0x4063c3(0x332),'handle':_0x3f0739,'params':[]}));_0x24a913['id']===0x3&&_0x24a913[_0x4063c3(0x324)]?.[_0x4063c3(0x1b3)]?.[_0x4063c3(0x185)]?.[_0x4063c3(0x32c)]&&(_0xd58002=_0x24a913['result'][_0x4063c3(0x1b3)]['qFieldList']['qItems'],console[_0x4063c3(0x210)](_0x4063c3(0x297),_0xd58002[_0x4063c3(0x339)]),_0x57092d=_0xd58002[_0x4063c3(0x2ce)](_0x297cf7=>!_0x297cf7[_0x4063c3(0x2bc)]['includes'](_0x4063c3(0x2b6))&&_0x297cf7[_0x4063c3(0x1be)][_0x4063c3(0x198)](_0x4063c3(0x17b)))['map'](_0xdce72c=>_0xdce72c['qName']),_0xd58002['forEach'](_0xa85b74=>{const _0x578eb3=_0x4063c3;_0x4ecfae[_0xa85b74[_0x578eb3(0x2bc)]]=_0xa85b74[_0x578eb3(0x25d)]||[];}),_0x57092d[_0x4063c3(0x339)]>0x0?(console[_0x4063c3(0x210)](_0x4063c3(0x2b4)),_0x35c4b9({'jsonrpc':'2.0','id':0x4,'method':_0x4063c3(0x2df),'handle':_0x2b0354,'params':[{'qInfo':{'qType':_0x4063c3(0x283)},'qHyperCubeDef':{'qMeasures':_0x57092d['flatMap'](_0x32f940=>[{'qDef':{'qDef':_0x4063c3(0x196)+_0x32f940+')'}},{'qDef':{'qDef':'Max('+_0x32f940+')'}}]),'qInitialDataFetch':[{'qTop':0x0,'qLeft':0x0,'qHeight':0x1,'qWidth':_0x57092d[_0x4063c3(0x339)]*0x2}]}}]})):(console[_0x4063c3(0x210)](_0x4063c3(0x1c2)),_0xd58002['filter'](_0x5a643d=>!_0x5a643d[_0x4063c3(0x2bc)][_0x4063c3(0x198)](_0x4063c3(0x2b6)))['forEach'](_0x4df0c3=>{const _0x2aaa02=_0x4063c3,_0x1236fc={'qName':_0x4df0c3[_0x2aaa02(0x2bc)],'qTags':_0x4df0c3[_0x2aaa02(0x1be)],'qCardinal':_0x4df0c3[_0x2aaa02(0x2b0)],'qSrcTables':_0x4df0c3['qSrcTables'],'minVal':null,'maxVal':null,'qNumFormat':{}},_0x34c988=mapQlikType(_0x1236fc),_0x190d20={'name':_0x4df0c3['qName'],'type':_0x34c988[_0x2aaa02(0x213)],'nature':_0x34c988[_0x2aaa02(0x264)],'format':_0x34c988['format'],'previous_name':_0x4df0c3['qOriginalFields']?.[0x0]??null};_0x504466[_0x4df0c3[_0x2aaa02(0x2bc)]]={'type':_0x34c988[_0x2aaa02(0x213)],'nature':_0x34c988[_0x2aaa02(0x264)],'format':_0x34c988[_0x2aaa02(0x2d5)]},_0x4df0c3[_0x2aaa02(0x25d)][_0x2aaa02(0x17c)](_0x35d748=>{const _0x2ce9f5=_0x2aaa02;!_0x46e492[_0x35d748]&&(_0x46e492[_0x35d748]=[]),_0x46e492[_0x35d748][_0x2ce9f5(0x24c)]({..._0x190d20});});}),console[_0x4063c3(0x210)]('Fetching\x20dimensions'),_0x35c4b9({'jsonrpc':_0x4063c3(0x2fd),'id':0x6,'method':_0x4063c3(0x174),'handle':_0x2b0354,'params':[{'qInfo':{'qType':_0x4063c3(0x316)},'qDimensionListDef':{'qType':'dimension','qShowAll':!![]}}]})));_0x24a913['id']===0x4&&_0x24a913[_0x4063c3(0x324)]?.[_0x4063c3(0x20a)]?.[_0x4063c3(0x1bb)]&&(console['log']('Requesting\x20HyperCube\x20layout'),_0x35c4b9({'jsonrpc':'2.0','id':0x5,'method':'GetLayout','handle':_0x24a913['result'][_0x4063c3(0x20a)][_0x4063c3(0x1bb)],'params':[]}));if(_0x24a913['id']===0x5&&_0x24a913['result']?.[_0x4063c3(0x1b3)]?.[_0x4063c3(0x179)]){let _0x3e3b60={};if(_0x57092d[_0x4063c3(0x339)]>0x0&&_0x24a913[_0x4063c3(0x324)][_0x4063c3(0x1b3)][_0x4063c3(0x179)][_0x4063c3(0x19a)]?.[0x0]?.[_0x4063c3(0x1b0)]?.[0x0]){const _0x2681b5=_0x24a913[_0x4063c3(0x324)][_0x4063c3(0x1b3)][_0x4063c3(0x179)][_0x4063c3(0x19a)][0x0]['qMatrix'][0x0],_0x4d98cf=_0x24a913['result'][_0x4063c3(0x1b3)][_0x4063c3(0x179)][_0x4063c3(0x1ac)];console[_0x4063c3(0x210)](_0x4063c3(0x1f9),JSON[_0x4063c3(0x20d)](_0x2681b5,null,0x2)),console['log'](_0x4063c3(0x208),JSON['stringify'](_0x4d98cf,null,0x2)),_0x57092d['forEach']((_0x106c98,_0x873c1e)=>{const _0x1e4065=_0x4063c3;_0x3e3b60[_0x106c98]={'minVal':_0x2681b5[_0x873c1e*0x2]['qNum']==='NaN'?null:_0x2681b5[_0x873c1e*0x2][_0x1e4065(0x248)],'maxVal':_0x2681b5[_0x873c1e*0x2+0x1][_0x1e4065(0x248)]===_0x1e4065(0x207)?null:_0x2681b5[_0x873c1e*0x2+0x1][_0x1e4065(0x248)],'qNumFormat':_0x4d98cf[_0x873c1e*0x2][_0x1e4065(0x1ee)]||{}};}),console[_0x4063c3(0x210)](_0x4063c3(0x261),JSON['stringify'](_0x3e3b60,null,0x2));}_0xd58002[_0x4063c3(0x2ce)](_0x18bad7=>!_0x18bad7[_0x4063c3(0x2bc)][_0x4063c3(0x198)]('.autoCalendar.'))['forEach'](_0x11d4e5=>{const _0x3c7065=_0x4063c3,_0x54b7e3={'qName':_0x11d4e5[_0x3c7065(0x2bc)],'qTags':_0x11d4e5[_0x3c7065(0x1be)],'qCardinal':_0x11d4e5[_0x3c7065(0x2b0)],'qSrcTables':_0x11d4e5[_0x3c7065(0x25d)],'minVal':_0x3e3b60[_0x11d4e5[_0x3c7065(0x2bc)]]?.['minVal']??null,'maxVal':_0x3e3b60[_0x11d4e5[_0x3c7065(0x2bc)]]?.[_0x3c7065(0x21c)]??null,'qNumFormat':_0x3e3b60[_0x11d4e5[_0x3c7065(0x2bc)]]?.[_0x3c7065(0x1ee)]??{}};console[_0x3c7065(0x210)](_0x3c7065(0x31c),JSON['stringify'](_0x54b7e3,null,0x2));const _0x31c279=mapQlikType(_0x54b7e3),_0x16c171={'name':_0x11d4e5[_0x3c7065(0x2bc)],'type':_0x31c279[_0x3c7065(0x213)],'nature':_0x31c279['nature'],'format':_0x31c279['format'],'previous_name':_0x11d4e5[_0x3c7065(0x1e6)]?.[0x0]??null};_0x504466[_0x11d4e5[_0x3c7065(0x2bc)]]={'type':_0x31c279[_0x3c7065(0x213)],'nature':_0x31c279['nature'],'format':_0x31c279[_0x3c7065(0x2d5)]},_0x11d4e5[_0x3c7065(0x25d)][_0x3c7065(0x17c)](_0x354338=>{!_0x46e492[_0x354338]&&(_0x46e492[_0x354338]=[]),_0x46e492[_0x354338]['push']({..._0x16c171});});}),console[_0x4063c3(0x210)]('Fetching\x20dimensions'),_0x35c4b9({'jsonrpc':_0x4063c3(0x2fd),'id':0x6,'method':'CreateObject','handle':_0x2b0354,'params':[{'qInfo':{'qType':'DimensionList'},'qDimensionListDef':{'qType':_0x4063c3(0x2ed),'qShowAll':!![]}}]});}_0x24a913['id']===0x6&&_0x24a913['result']?.[_0x4063c3(0x20a)]?.[_0x4063c3(0x1bb)]&&(console[_0x4063c3(0x210)](_0x4063c3(0x2d0)),_0x35c4b9({'jsonrpc':_0x4063c3(0x2fd),'id':0x7,'method':_0x4063c3(0x332),'handle':_0x24a913[_0x4063c3(0x324)]['qReturn'][_0x4063c3(0x1bb)],'params':[]}));if(_0x24a913['id']===0x7&&_0x24a913['result']?.[_0x4063c3(0x1b3)]?.['qDimensionList']?.[_0x4063c3(0x32c)]){_0x9fbac3=_0x24a913[_0x4063c3(0x324)][_0x4063c3(0x1b3)][_0x4063c3(0x1c1)]['qItems'],_0x4f93e5=_0x9fbac3['length'],console[_0x4063c3(0x210)](_0x4063c3(0x267),_0x4f93e5),_0x125030=new Array(_0x4f93e5),_0xbe0092=0x0;if(_0x4f93e5===0x0)_0x30c82a();else for(let _0x1f962f=0x0;_0x1f962f<_0x4f93e5;_0x1f962f++){_0x35c4b9({'jsonrpc':_0x4063c3(0x2fd),'id':0xc8+_0x1f962f,'method':'GetDimension','handle':_0x2b0354,'params':[_0x9fbac3[_0x1f962f]['qInfo']['qId']]});}}if(_0x24a913['id']>=0xc8&&_0x24a913['id']<0x12c&&_0x24a913[_0x4063c3(0x324)]?.[_0x4063c3(0x20a)]?.[_0x4063c3(0x1bb)]){const _0x948801=_0x24a913['id']-0xc8;_0x35c4b9({'jsonrpc':_0x4063c3(0x2fd),'id':0x12c+_0x948801,'method':_0x4063c3(0x219),'handle':_0x24a913['result'][_0x4063c3(0x20a)][_0x4063c3(0x1bb)],'params':[]});}if(_0x24a913['id']>=0x12c&&_0x24a913['id']<0x190){const _0x58eee4=_0x24a913['id']-0x12c,_0x47c1a3=_0x9fbac3[_0x58eee4],_0x535191=_0x24a913['result']?.[_0x4063c3(0x31e)];if(!_0x535191||!_0x535191[_0x4063c3(0x276)]){console['log'](_0x4063c3(0x275)+_0x47c1a3[_0x4063c3(0x1da)][_0x4063c3(0x300)]+_0x4063c3(0x2b3)),_0x57e0b5['push']({'qInfo':_0x47c1a3[_0x4063c3(0x1da)],'qDim':{'qFieldDefs':[],'qFieldLabels':[],'qLabelExpression':'','title':_0x47c1a3[_0x4063c3(0x1ed)][_0x4063c3(0x1d3)]},'qMetaDef':{'title':_0x47c1a3['qMeta']['title'],'description':_0x47c1a3[_0x4063c3(0x1ed)][_0x4063c3(0x2a0)]||'','tags':[]},'tables':[],'dataType':_0x4063c3(0x2a8)}),_0xbe0092++,_0x30c82a();return;}const _0xc5ee4a=_0x535191[_0x4063c3(0x276)][_0x4063c3(0x1ce)]||[],_0x211c1c=_0xc5ee4a[_0x4063c3(0x333)]('\x20')+(_0x535191[_0x4063c3(0x276)][_0x4063c3(0x2db)]||'');let _0x50922d=new Set();if(Object[_0x4063c3(0x286)](_0x4ecfae)['length']>0x0){const _0x1377e5=Object['keys'](_0x4ecfae)[_0x4063c3(0x226)]((_0x1e9115,_0x4f1e6c)=>_0x4f1e6c[_0x4063c3(0x339)]-_0x1e9115[_0x4063c3(0x339)])[_0x4063c3(0x309)](escapeRegExp)[_0x4063c3(0x333)]('|'),_0x15860c=new RegExp(_0x4063c3(0x312)+_0x1377e5+_0x4063c3(0x24d),'gi');let _0xfe04c9;while((_0xfe04c9=_0x15860c[_0x4063c3(0x31b)](_0x211c1c))!==null){const _0x38fc41=_0xfe04c9[0x1];_0x4ecfae[_0x38fc41]&&_0x4ecfae[_0x38fc41][_0x4063c3(0x17c)](_0x28dc63=>_0x50922d[_0x4063c3(0x265)](_0x28dc63));}}else console[_0x4063c3(0x210)]('No\x20fields\x20available\x20for\x20dimension\x20'+_0x47c1a3[_0x4063c3(0x1da)]['qId']+_0x4063c3(0x249));_0x125030[_0x58eee4]={'qInfo':_0x535191['qInfo'],'qDim':_0x535191[_0x4063c3(0x276)],'qMetaDef':_0x535191[_0x4063c3(0x23b)],'tables':Array[_0x4063c3(0x29a)](_0x50922d),'dataType':_0x4063c3(0x2a8)},console[_0x4063c3(0x210)](_0x4063c3(0x232),JSON[_0x4063c3(0x20d)](_0x125030[_0x58eee4],null,0x2));let _0x376f9d={..._0x535191[_0x4063c3(0x276)]};_0x535191['qDim'][_0x4063c3(0x2db)]&&!(_0x535191[_0x4063c3(0x276)][_0x4063c3(0x1ce)]?.[0x0]||'')[_0x4063c3(0x197)]()['startsWith']('=')&&(_0x376f9d['qFieldDefs']=['='+_0x535191[_0x4063c3(0x276)][_0x4063c3(0x2db)]]),_0x35c4b9({'jsonrpc':_0x4063c3(0x2fd),'id':0x2bc+_0x58eee4,'method':_0x4063c3(0x174),'handle':_0x2b0354,'params':[{'qInfo':{'qType':_0x4063c3(0x192)+_0x58eee4},'qHyperCubeDef':{'qDimensions':[{'qDef':_0x376f9d}],'qInitialDataFetch':[{'qTop':0x0,'qLeft':0x0,'qHeight':0xa,'qWidth':0x1}]}}]});}if(_0x24a913['id']>=0x2bc&&_0x24a913['id']<0x320&&_0x24a913[_0x4063c3(0x324)]?.[_0x4063c3(0x20a)]?.[_0x4063c3(0x1bb)]){const _0x32b07a=_0x24a913['id']-0x2bc;_0x35c4b9({'jsonrpc':'2.0','id':0x320+_0x32b07a,'method':_0x4063c3(0x332),'handle':_0x24a913[_0x4063c3(0x324)][_0x4063c3(0x20a)][_0x4063c3(0x1bb)],'params':[]});}if(_0x24a913['id']>=0x320&&_0x24a913['id']<0x384){const _0x27f7d=_0x24a913['id']-0x320,_0x56ff57=_0x125030[_0x27f7d],_0x497bc1=_0x24a913[_0x4063c3(0x324)]?.['qLayout'];let _0x539099='UNKNOWN',_0x5d837e=_0x4063c3(0x2a8);if(_0x497bc1&&_0x497bc1[_0x4063c3(0x179)]){const _0x2ac17c=_0x497bc1[_0x4063c3(0x179)][_0x4063c3(0x252)][0x0],_0x528104=_0x497bc1['qHyperCube']['qDataPages'][0x0]?.[_0x4063c3(0x1b0)]||[];let _0x3b3c58={'type':_0x4063c3(0x325),'nature':_0x4063c3(0x1e4),'format':null};const _0x20985e=_0x56ff57[_0x4063c3(0x276)][_0x4063c3(0x1ce)]||[],_0x2b5667=_0x20985e[_0x4063c3(0x339)]===0x1&&_0x20985e[0x0][_0x4063c3(0x197)]()['startsWith']('=');if(_0x56ff57['qDim'][_0x4063c3(0x2db)]){const _0x39fcef=_0x56ff57[_0x4063c3(0x276)][_0x4063c3(0x2db)][_0x4063c3(0x197)]();if(_0x39fcef[_0x4063c3(0x198)]('\x27')||_0x39fcef[_0x4063c3(0x198)]('\x22'))_0x3b3c58={'type':'STRING','nature':_0x4063c3(0x1e4),'format':null};else _0x39fcef[_0x4063c3(0x304)](/^Num\(/i)&&(_0x3b3c58={'type':_0x4063c3(0x2ab),'nature':_0x4063c3(0x2b5),'format':_0x2ac17c['qNumFormat']?.[_0x4063c3(0x30a)]||null});}if(_0x528104[_0x4063c3(0x339)]>0x0){const _0x80c6ad=_0x528104[_0x4063c3(0x2ce)](_0x5437b1=>_0x5437b1[0x0][_0x4063c3(0x320)]!=='-'&&_0x5437b1[0x0]['qText']!=null);if(_0x80c6ad[_0x4063c3(0x339)]>0x0){const _0x493686=_0x80c6ad[_0x4063c3(0x318)](_0x49c792=>_0x49c792[0x0][_0x4063c3(0x248)]!==_0x4063c3(0x207)&&_0x49c792[0x0]['qNum']!==undefined);if(_0x493686){const _0x123470=_0x80c6ad[_0x4063c3(0x309)](_0x5c6c09=>_0x5c6c09[0x0][_0x4063c3(0x248)]),_0x420336=_0x123470[_0x4063c3(0x318)](_0x3a1f42=>Number[_0x4063c3(0x1bd)](_0x3a1f42));_0x3b3c58[_0x4063c3(0x213)]='NUMBER',_0x3b3c58[_0x4063c3(0x264)]=_0x420336?_0x4063c3(0x2b5):'DECIMAL',_0x3b3c58[_0x4063c3(0x2d5)]=_0x2ac17c['qNumFormat']?.['qFmt']||null;}else _0x3b3c58['type']='STRING',_0x3b3c58[_0x4063c3(0x264)]=_0x4063c3(0x1e4),_0x3b3c58[_0x4063c3(0x2d5)]=null;}}else{if(_0x2ac17c&&!_0x56ff57[_0x4063c3(0x276)][_0x4063c3(0x2db)]){const _0x349a45={'qName':_0x56ff57[_0x4063c3(0x276)][_0x4063c3(0x1d3)]||_0x56ff57[_0x4063c3(0x276)][_0x4063c3(0x1ce)]?.[0x0]||_0x4063c3(0x317),'qTags':_0x2ac17c[_0x4063c3(0x1be)]||[],'minVal':_0x2ac17c[_0x4063c3(0x17f)]||null,'maxVal':_0x2ac17c['qMax']||null,'qCardinal':_0x2ac17c['qCardinal']||null,'qNumFormat':_0x2ac17c[_0x4063c3(0x1ee)]||{}};_0x3b3c58=mapQlikType(_0x349a45);}}_0x539099=_0x3b3c58[_0x4063c3(0x213)],_0x5d837e=_0x3b3c58[_0x4063c3(0x264)],_0x2b5667&&(_0x539099+=_0x4063c3(0x181));}_0x57e0b5[_0x4063c3(0x24c)]({..._0x56ff57,'dataType':_0x539099,'nature':_0x5d837e}),console[_0x4063c3(0x210)](_0x4063c3(0x270),JSON['stringify'](_0x57e0b5[_0x57e0b5[_0x4063c3(0x339)]-0x1],null,0x2)),_0xbe0092++,_0x30c82a();}_0x24a913['id']===0x8&&_0x24a913[_0x4063c3(0x324)]?.[_0x4063c3(0x20a)]?.[_0x4063c3(0x1bb)]&&(console['log'](_0x4063c3(0x203)),_0x35c4b9({'jsonrpc':_0x4063c3(0x2fd),'id':0x9,'method':_0x4063c3(0x332),'handle':_0x24a913[_0x4063c3(0x324)][_0x4063c3(0x20a)][_0x4063c3(0x1bb)],'params':[]}));if(_0x24a913['id']===0x9&&_0x24a913[_0x4063c3(0x324)]?.[_0x4063c3(0x1b3)]?.[_0x4063c3(0x1a8)]?.['qItems']){_0x2d10a1=_0x24a913[_0x4063c3(0x324)][_0x4063c3(0x1b3)][_0x4063c3(0x1a8)]['qItems'],_0x14c6b7=_0x2d10a1[_0x4063c3(0x339)],console[_0x4063c3(0x210)]('Processing\x20measures:',_0x14c6b7),_0x4a9a15=0x0;if(_0x14c6b7===0x0)_0x434254();else for(let _0x15fae4=0x0;_0x15fae4<_0x14c6b7;_0x15fae4++){_0x35c4b9({'jsonrpc':_0x4063c3(0x2fd),'id':0x190+_0x15fae4,'method':'GetMeasure','handle':_0x2b0354,'params':[_0x2d10a1[_0x15fae4][_0x4063c3(0x1da)][_0x4063c3(0x300)]]});}}if(_0x24a913['id']>=0x190&&_0x24a913['id']<0x1f4&&_0x24a913['result']?.['qReturn']?.[_0x4063c3(0x1bb)]){const _0x1fc1ff=_0x24a913['id']-0x190;_0x35c4b9({'jsonrpc':_0x4063c3(0x2fd),'id':0x1f4+_0x1fc1ff,'method':_0x4063c3(0x219),'handle':_0x24a913[_0x4063c3(0x324)]['qReturn'][_0x4063c3(0x1bb)],'params':[]});}if(_0x24a913['id']>=0x1f4&&_0x24a913['id']<0x258){const _0x54eee9=_0x24a913['id']-0x1f4,_0x2e202a=_0x2d10a1[_0x54eee9],_0x23ea51=_0x24a913[_0x4063c3(0x324)]?.[_0x4063c3(0x31e)];if(!_0x23ea51||!_0x23ea51['qMeasure']){_0x1114ec(_0x54eee9,_0x4063c3(0x33b));return;}const _0xc590a4=_0x23ea51[_0x4063c3(0x2ee)][_0x4063c3(0x2d8)]?.[_0x4063c3(0x2d8)]||'';let _0x1a02d1=new Set();if(Object['keys'](_0x4ecfae)[_0x4063c3(0x339)]>0x0){const _0x4987c4=Object[_0x4063c3(0x286)](_0x4ecfae)[_0x4063c3(0x226)]((_0x467b72,_0x43e25b)=>_0x43e25b[_0x4063c3(0x339)]-_0x467b72['length'])[_0x4063c3(0x309)](escapeRegExp)[_0x4063c3(0x333)]('|'),_0x85285c=new RegExp(_0x4063c3(0x312)+_0x4987c4+_0x4063c3(0x24d),'gi');let _0x3a2600;while((_0x3a2600=_0x85285c[_0x4063c3(0x31b)](_0xc590a4))!==null){const _0x3d9f27=_0x3a2600[0x1];_0x4ecfae[_0x3d9f27]&&_0x4ecfae[_0x3d9f27][_0x4063c3(0x17c)](_0x597eec=>_0x1a02d1[_0x4063c3(0x265)](_0x597eec));}}else console['log'](_0x4063c3(0x266)+_0x2e202a['qInfo'][_0x4063c3(0x300)]+_0x4063c3(0x249));_0x5d4504[_0x4063c3(0x24c)]({'qInfo':_0x23ea51[_0x4063c3(0x1da)],'qMeasure':_0x23ea51['qMeasure'],'qMetaDef':_0x23ea51[_0x4063c3(0x23b)],'tables':Array[_0x4063c3(0x29a)](_0x1a02d1)}),console['log'](_0x4063c3(0x1d1),JSON[_0x4063c3(0x20d)](_0x5d4504[_0x5d4504[_0x4063c3(0x339)]-0x1],null,0x2)),_0x4a9a15++,_0x434254();}if(_0x24a913['id']===0xa&&_0x24a913[_0x4063c3(0x324)]){const _0x29339e=_0x24a913[_0x4063c3(0x324)]['qtr'],_0x2894d4=_0x24a913[_0x4063c3(0x324)]['qk'];_0xb32999=[],_0x2894d4[_0x4063c3(0x17c)](_0x2d6ccc=>{const _0x1aa2db=_0x4063c3,_0x3a0f81=_0x2d6ccc['qKeyFields'],_0x2c6751=_0x2d6ccc['qTables'];for(let _0x211039=0x0;_0x211039<_0x2c6751[_0x1aa2db(0x339)];_0x211039++){for(let _0xaeb561=_0x211039+0x1;_0xaeb561<_0x2c6751[_0x1aa2db(0x339)];_0xaeb561++){_0x3a0f81[_0x1aa2db(0x17c)](_0x5eab74=>{const _0x1b00f2=_0x1aa2db;_0xb32999[_0x1b00f2(0x24c)]({'table1':_0x2c6751[_0x211039],'field1':_0x5eab74,'table2':_0x2c6751[_0xaeb561],'field2':_0x5eab74});});}}}),console[_0x4063c3(0x210)](_0x4063c3(0x1a0),JSON['stringify'](_0xb32999,null,0x2)),function _0x2debbe(){const _0x182dd3=_0x4063c3;try{const _0x3addc1=Array[_0x182dd3(0x28e)](typeof _0x29339e!==_0x182dd3(0x1cd)?_0x29339e:null)?_0x29339e:_0x24a913&&_0x24a913['result']&&Array[_0x182dd3(0x28e)](_0x24a913[_0x182dd3(0x324)]['qtr'])?_0x24a913[_0x182dd3(0x324)][_0x182dd3(0x227)]:[],_0x2d98a7=Array[_0x182dd3(0x28e)](typeof keyGroups!==_0x182dd3(0x1cd)?keyGroups:null)?keyGroups:_0x24a913&&_0x24a913[_0x182dd3(0x324)]&&Array[_0x182dd3(0x28e)](_0x24a913[_0x182dd3(0x324)]['qk'])?_0x24a913['result']['qk']:[];if(!Array[_0x182dd3(0x28e)](_0x3addc1)){console['log']('computeCardinalityAndEnforceBridges:\x20tables\x20(qtr)\x20not\x20available;\x20aborting.');return;}!Array[_0x182dd3(0x28e)](_0x2d98a7)&&console[_0x182dd3(0x210)]('computeCardinalityAndEnforceBridges:\x20key\x20groups\x20(qk)\x20not\x20available;\x20bridge\x20detection\x20will\x20be\x20skipped.');const _0x23e069={},_0x52a8ad={};_0x3addc1[_0x182dd3(0x17c)](_0x32c921=>{const _0x2bfd32=_0x182dd3,_0x4e373c=_0x32c921[_0x2bfd32(0x2bc)]||_0x32c921['qNameRaw']||_0x32c921['name']||null,_0x1717d7=typeof _0x32c921[_0x2bfd32(0x218)]===_0x2bfd32(0x28d)?_0x32c921[_0x2bfd32(0x218)]:typeof _0x32c921[_0x2bfd32(0x191)]===_0x2bfd32(0x28d)?_0x32c921[_0x2bfd32(0x191)]:typeof _0x32c921['qRows']===_0x2bfd32(0x28d)?_0x32c921[_0x2bfd32(0x245)]:null;if(_0x4e373c)_0x23e069[_0x4e373c]=_0x1717d7===null?null:Number(_0x1717d7);Array[_0x2bfd32(0x28e)](_0x32c921[_0x2bfd32(0x27f)])&&_0x32c921[_0x2bfd32(0x27f)][_0x2bfd32(0x17c)](_0x5bae52=>{const _0x44d1c9=_0x2bfd32,_0x41c6a9=_0x5bae52['qName'],_0x445334=_0x4e373c+'::'+_0x41c6a9,_0x391fc9=typeof _0x5bae52['qnPresentDistinctValues']==='number'?_0x5bae52[_0x44d1c9(0x1e9)]:typeof _0x5bae52[_0x44d1c9(0x1ba)]==='number'?_0x5bae52['qnTotalDistinctValues']:typeof _0x5bae52[_0x44d1c9(0x1d8)]==='number'?_0x5bae52[_0x44d1c9(0x1d8)]:null;_0x52a8ad[_0x445334]=_0x391fc9===null?null:Number(_0x391fc9);});});function _0x2f47a0(_0x475234,_0x499b77){if(_0x475234==null)return null;if(_0x499b77==null)return _0x475234;if(_0x475234>_0x499b77)return Number(_0x499b77);return Number(_0x475234);}const _0x5bccc2=_0xb32999['map'](_0x1d9ec1=>{const _0x2177af=_0x182dd3,_0x19f953={..._0x1d9ec1},_0x2ebb09=_0x19f953[_0x2177af(0x240)],_0x1b8d2a=_0x19f953['table2'],_0x342784=_0x19f953[_0x2177af(0x291)],_0x11a4f5=_0x19f953[_0x2177af(0x27e)],_0x5eb76c=_0x2ebb09&&Object[_0x2177af(0x1d5)][_0x2177af(0x2c2)][_0x2177af(0x30e)](_0x23e069,_0x2ebb09)?_0x23e069[_0x2ebb09]:null,_0x2e938a=_0x1b8d2a&&Object[_0x2177af(0x1d5)][_0x2177af(0x2c2)]['call'](_0x23e069,_0x1b8d2a)?_0x23e069[_0x1b8d2a]:null;_0x19f953['tableRowCounts']={[_0x2ebb09]:_0x5eb76c===null?null:Number(_0x5eb76c),[_0x1b8d2a]:_0x2e938a===null?null:Number(_0x2e938a)};const _0x430c9e=_0x2ebb09&&_0x342784?_0x52a8ad[_0x2ebb09+'::'+_0x342784]??null:null,_0x6bee42=_0x1b8d2a&&_0x11a4f5?_0x52a8ad[_0x1b8d2a+'::'+_0x11a4f5]??null:null,_0x5ded2=typeof _0x19f953[_0x2177af(0x279)]===_0x2177af(0x28d)?_0x19f953[_0x2177af(0x279)]:null,_0x3a1b2c=_0x430c9e!=null?_0x2f47a0(_0x430c9e,_0x5eb76c):_0x5ded2!=null?_0x2f47a0(_0x5ded2,_0x5eb76c):null,_0x209de3=_0x6bee42!=null?_0x2f47a0(_0x6bee42,_0x2e938a):null;_0x19f953[_0x2177af(0x279)]=_0x3a1b2c!==null?_0x3a1b2c:_0x5ded2!==null?_0x5ded2:null,_0x19f953['distinctValues_table2']=_0x209de3!==null?_0x209de3:null;let _0x25cc82=_0x2177af(0x28b),_0x4d8d9a=_0x19f953[_0x2177af(0x20f)]||null;if(typeof _0x3a1b2c==='number'&&typeof _0x209de3===_0x2177af(0x28d)&&typeof _0x5eb76c===_0x2177af(0x28d)&&typeof _0x2e938a===_0x2177af(0x28d)){if(_0x3a1b2c===_0x5eb76c&&_0x209de3===_0x2e938a)_0x25cc82=_0x2177af(0x2cb);else{if(_0x3a1b2c===_0x5eb76c&&_0x209de3<_0x2e938a)_0x25cc82='one-to-many';else{if(_0x209de3===_0x2e938a&&_0x3a1b2c<_0x5eb76c)_0x25cc82=_0x2177af(0x260);else _0x3a1b2c<_0x5eb76c&&_0x209de3<_0x2e938a?_0x25cc82=_0x2177af(0x2a6):_0x25cc82='unknown';}}}else{if(typeof _0x3a1b2c==='number'&&typeof _0x5eb76c===_0x2177af(0x28d)&&typeof _0x2e938a===_0x2177af(0x28d)){if(_0x3a1b2c===_0x5eb76c&&_0x2e938a>0x1)_0x25cc82=_0x2177af(0x204);else _0x25cc82=_0x2177af(0x28b);}else{if(typeof _0x209de3===_0x2177af(0x28d)&&typeof _0x5eb76c===_0x2177af(0x28d)&&typeof _0x2e938a===_0x2177af(0x28d)){if(_0x209de3===_0x2e938a&&_0x5eb76c>0x1)_0x25cc82=_0x2177af(0x260);else _0x25cc82=_0x2177af(0x28b);}else{if(typeof _0x3a1b2c===_0x2177af(0x28d)&&typeof _0x209de3===_0x2177af(0x28d)){if(_0x3a1b2c===_0x209de3&&_0x3a1b2c===0x1)_0x25cc82=_0x2177af(0x2cb);else{if(_0x3a1b2c===_0x209de3)_0x25cc82='many-to-many';else _0x25cc82=_0x2177af(0x28b);}}else _0x25cc82=_0x2177af(0x28b);}}}_0x430c9e!=null&&typeof _0x5eb76c===_0x2177af(0x28d)&&_0x430c9e>_0x5eb76c&&(_0x4d8d9a=(_0x4d8d9a?_0x4d8d9a+_0x2177af(0x183):'')+('capped\x20distinct\x20'+_0x430c9e+'->'+_0x5eb76c+_0x2177af(0x230)+_0x2ebb09+'::'+_0x342784));_0x6bee42!=null&&typeof _0x2e938a===_0x2177af(0x28d)&&_0x6bee42>_0x2e938a&&(_0x4d8d9a=(_0x4d8d9a?_0x4d8d9a+_0x2177af(0x183):'')+('capped\x20distinct\x20'+_0x6bee42+'->'+_0x2e938a+_0x2177af(0x230)+_0x1b8d2a+'::'+_0x11a4f5));_0x19f953[_0x2177af(0x1f5)]=_0x25cc82;if(_0x4d8d9a)_0x19f953[_0x2177af(0x20f)]=_0x4d8d9a;try{if(_0x25cc82===_0x2177af(0x204))!(typeof _0x3a1b2c===_0x2177af(0x28d)&&typeof _0x5eb76c===_0x2177af(0x28d)&&_0x3a1b2c===_0x5eb76c)&&(typeof _0x209de3==='number'&&typeof _0x2e938a===_0x2177af(0x28d)&&_0x209de3===_0x2e938a)&&(_0x25cc82=_0x2177af(0x260),_0x4d8d9a=(_0x4d8d9a?_0x4d8d9a+_0x2177af(0x183):'')+_0x2177af(0x1c9));else _0x25cc82==='many-to-one'&&(!(typeof _0x209de3===_0x2177af(0x28d)&&typeof _0x2e938a===_0x2177af(0x28d)&&_0x209de3===_0x2e938a)&&(typeof _0x3a1b2c===_0x2177af(0x28d)&&typeof _0x5eb76c===_0x2177af(0x28d)&&_0x3a1b2c===_0x5eb76c)&&(_0x25cc82=_0x2177af(0x204),_0x4d8d9a=(_0x4d8d9a?_0x4d8d9a+_0x2177af(0x183):'')+_0x2177af(0x2cf)));}catch(_0x1e948e){console[_0x2177af(0x247)]('orientation-only\x20correction\x20error:',_0x1e948e&&_0x1e948e['message']?_0x1e948e[_0x2177af(0x22b)]:_0x1e948e);}return _0x19f953;});_0xb32999=_0x5bccc2,console['log'](_0x182dd3(0x24e),JSON[_0x182dd3(0x20d)](_0xb32999,null,0x2));if(!Array[_0x182dd3(0x28e)](_0x2d98a7)||_0x2d98a7[_0x182dd3(0x339)]===0x0){console[_0x182dd3(0x210)](_0x182dd3(0x17d));return;}const _0x4b6ab8={};_0x2d98a7[_0x182dd3(0x17c)](_0x4bb18b=>{const _0x528369=_0x182dd3;(_0x4bb18b[_0x528369(0x2c6)]||[])[_0x528369(0x17c)](_0x496125=>{const _0x200355=_0x528369;if(!_0x4b6ab8[_0x496125])_0x4b6ab8[_0x496125]=new Set();(_0x4bb18b['qTables']||[])[_0x200355(0x17c)](_0x1bc931=>_0x4b6ab8[_0x496125][_0x200355(0x265)](_0x1bc931));});});const _0x402794={};_0x2d98a7['forEach'](_0x6200=>{const _0x120f3a=_0x182dd3;(_0x6200['qTables']||[])[_0x120f3a(0x17c)](_0x37185e=>{const _0x45c58c=_0x120f3a;if(!_0x402794[_0x37185e])_0x402794[_0x37185e]=new Set();(_0x6200[_0x45c58c(0x2c6)]||[])[_0x45c58c(0x17c)](_0xab4dac=>_0x402794[_0x37185e][_0x45c58c(0x265)](_0xab4dac));});});const _0x3ded76=[];Object[_0x182dd3(0x286)](_0x402794)[_0x182dd3(0x17c)](_0x1216df=>{const _0x7b76a=_0x182dd3,_0x14f7b6=Array['from'](_0x402794[_0x1216df]||[]);if(_0x14f7b6[_0x7b76a(0x339)]<0x2)return;const _0xfe8aa=new Set(),_0x44ccd3=[];_0x14f7b6[_0x7b76a(0x17c)](_0x32e8eb=>{const _0x146de5=_0x7b76a,_0x25e7cc=Array['from'](_0x4b6ab8[_0x32e8eb]||[]);if(_0x25e7cc[_0x146de5(0x339)]===0x2&&_0x25e7cc['includes'](_0x1216df)){const _0x51cc14=_0x25e7cc[_0x146de5(0x2fc)](_0x5a260e=>_0x5a260e!==_0x1216df);_0x51cc14&&(_0xfe8aa[_0x146de5(0x265)](_0x51cc14),_0x44ccd3[_0x146de5(0x24c)](_0x32e8eb));}}),_0xfe8aa['size']>=0x2&&_0x44ccd3['length']>=0x2&&_0x3ded76[_0x7b76a(0x24c)]({'table':_0x1216df,'keyFields':_0x44ccd3,'linkedTables':Array['from'](_0xfe8aa)});});if(_0x3ded76['length']===0x0){console[_0x182dd3(0x210)](_0x182dd3(0x1e2));return;}console[_0x182dd3(0x210)]('Bridge\x20candidates\x20(conservative):',JSON[_0x182dd3(0x20d)](_0x3ded76,null,0x2));function _0x2908ec(_0x1ed7d6,_0x800e3e,_0x523317,_0x4e5ea4){const _0x37392d=_0x182dd3;return _0xb32999[_0x37392d(0x27d)](_0x27e7da=>_0x27e7da[_0x37392d(0x240)]===_0x1ed7d6&&(_0x800e3e==null||_0x27e7da[_0x37392d(0x291)]===_0x800e3e)&&_0x27e7da['table2']===_0x523317&&(_0x4e5ea4==null||_0x27e7da['field2']===_0x4e5ea4)||_0x27e7da[_0x37392d(0x240)]===_0x523317&&(_0x4e5ea4==null||_0x27e7da[_0x37392d(0x291)]===_0x4e5ea4)&&_0x27e7da[_0x37392d(0x32d)]===_0x1ed7d6&&(_0x800e3e==null||_0x27e7da['field2']===_0x800e3e));}const _0x3a72e0=new Set();_0x3ded76['forEach'](_0x3d1c86=>{const _0x39892d=_0x182dd3,_0x507093=_0x3d1c86['table'],_0x2e1090=_0x3d1c86[_0x39892d(0x221)],_0x58ecdb=_0x3d1c86[_0x39892d(0x2ac)];_0x58ecdb[_0x39892d(0x17c)](_0x24e945=>{const _0x583796=_0x39892d,_0x35bddd=_0x2e1090['find'](_0x10d0aa=>{const _0x2f1915=a0_0x1579,_0x1cafc6=Array[_0x2f1915(0x29a)](_0x4b6ab8[_0x10d0aa]||[]);return _0x1cafc6[_0x2f1915(0x339)]===0x2&&_0x1cafc6[_0x2f1915(0x198)](_0x507093)&&_0x1cafc6[_0x2f1915(0x198)](_0x24e945);}),_0x22a05e=_0x35bddd?_0x2908ec(_0x507093,_0x35bddd,_0x24e945,_0x35bddd):_0x2908ec(_0x507093,null,_0x24e945,null);if(_0x22a05e>=0x0){const _0x54e1ab=_0xb32999[_0x22a05e];if(_0x54e1ab[_0x583796(0x240)]===_0x24e945&&_0x54e1ab['table2']===_0x507093)_0x54e1ab[_0x583796(0x1f5)]='one-to-many',_0x54e1ab[_0x583796(0x20f)]=(_0x54e1ab[_0x583796(0x20f)]?_0x54e1ab[_0x583796(0x20f)]+'\x20|\x20':'')+_0x583796(0x1c3);else _0x54e1ab['table2']===_0x24e945&&_0x54e1ab[_0x583796(0x240)]===_0x507093?(_0x54e1ab[_0x583796(0x1f5)]=_0x583796(0x260),_0x54e1ab[_0x583796(0x20f)]=(_0x54e1ab[_0x583796(0x20f)]?_0x54e1ab[_0x583796(0x20f)]+'\x20|\x20':'')+'enforced:\x20bridge\x20many\x20side\x20(inverse\x20orientation)'):(_0x54e1ab[_0x583796(0x1f5)]='one-to-many',_0x54e1ab[_0x583796(0x20f)]=(_0x54e1ab[_0x583796(0x20f)]?_0x54e1ab['note']+_0x583796(0x183):'')+'enforced:\x20bridge\x20many\x20side\x20(fallback)');_0xb32999[_0x22a05e]=_0x54e1ab;}else _0xb32999[_0x583796(0x24c)]({'table1':_0x24e945,'field1':_0x35bddd||null,'table2':_0x507093,'field2':_0x35bddd||null,'cardinality':_0x583796(0x204),'note':_0x583796(0x2c7)});});for(let _0x55c046=0x0;_0x55c046<_0x58ecdb[_0x39892d(0x339)];_0x55c046++){for(let _0x547025=_0x55c046+0x1;_0x547025<_0x58ecdb[_0x39892d(0x339)];_0x547025++){const _0x4d5d3a=_0x58ecdb[_0x55c046],_0x286c3c=_0x58ecdb[_0x547025];_0x3a72e0[_0x39892d(0x265)](_0x4d5d3a+'||'+_0x286c3c),_0x3a72e0['add'](_0x286c3c+'||'+_0x4d5d3a);}}});const _0x2b38d1=[];for(let _0x32b2f8=_0xb32999['length']-0x1;_0x32b2f8>=0x0;_0x32b2f8--){const _0x49d673=_0xb32999[_0x32b2f8],_0x5d01f6=_0x49d673[_0x182dd3(0x240)]+'||'+_0x49d673[_0x182dd3(0x32d)];if(_0x3a72e0[_0x182dd3(0x2e1)](_0x5d01f6)){const _0x42b5d0=_0x3ded76[_0x182dd3(0x2d6)](_0x302cfb=>_0x302cfb[_0x182dd3(0x1b4)]===_0x49d673[_0x182dd3(0x240)]),_0x158b08=_0x3ded76['some'](_0x1045a9=>_0x1045a9['table']===_0x49d673[_0x182dd3(0x32d)]);!_0x42b5d0&&!_0x158b08&&(_0x2b38d1[_0x182dd3(0x24c)](_0x49d673),_0xb32999[_0x182dd3(0x18a)](_0x32b2f8,0x1));}}_0x2b38d1[_0x182dd3(0x339)]?console[_0x182dd3(0x210)](_0x182dd3(0x206),JSON[_0x182dd3(0x20d)](_0x2b38d1,null,0x2)):console[_0x182dd3(0x210)](_0x182dd3(0x24a));console[_0x182dd3(0x210)](_0x182dd3(0x2af),JSON[_0x182dd3(0x20d)](_0xb32999,null,0x2));try{_0xb32999=(_0xb32999||[])[_0x182dd3(0x309)](_0x2c63b4=>{const _0xaf1443=_0x182dd3;if(!_0x2c63b4||!_0x2c63b4[_0xaf1443(0x1f5)])return _0x2c63b4;const _0x2a2a69=_0x2c63b4['cardinality'],_0x55b36e=_0x2c63b4[_0xaf1443(0x314)]||{},_0x959dd4=_0x2c63b4[_0xaf1443(0x240)],_0x19eb57=_0x2c63b4[_0xaf1443(0x32d)],_0x52c537=typeof _0x55b36e[_0x959dd4]===_0xaf1443(0x28d)?_0x55b36e[_0x959dd4]:null,_0xf825da=typeof _0x55b36e[_0x19eb57]===_0xaf1443(0x28d)?_0x55b36e[_0x19eb57]:null,_0x504eb7=typeof _0x2c63b4[_0xaf1443(0x279)]==='number'?_0x2c63b4[_0xaf1443(0x279)]:null,_0x94a11f=typeof _0x2c63b4[_0xaf1443(0x313)]==='number'?_0x2c63b4['distinctValues_table2']:null;if(_0x2a2a69===_0xaf1443(0x204))!(_0x504eb7!=null&&_0x52c537!=null&&_0x504eb7===_0x52c537)&&(_0x94a11f!=null&&_0xf825da!=null&&_0x94a11f===_0xf825da)&&(_0x2c63b4[_0xaf1443(0x1f5)]='many-to-one',_0x2c63b4[_0xaf1443(0x20f)]=(_0x2c63b4[_0xaf1443(0x20f)]?_0x2c63b4[_0xaf1443(0x20f)]+_0xaf1443(0x183):'')+_0xaf1443(0x256));else _0x2a2a69===_0xaf1443(0x260)&&(!(_0x94a11f!=null&&_0xf825da!=null&&_0x94a11f===_0xf825da)&&(_0x504eb7!=null&&_0x52c537!=null&&_0x504eb7===_0x52c537)&&(_0x2c63b4[_0xaf1443(0x1f5)]=_0xaf1443(0x204),_0x2c63b4[_0xaf1443(0x20f)]=(_0x2c63b4[_0xaf1443(0x20f)]?_0x2c63b4[_0xaf1443(0x20f)]+_0xaf1443(0x183):'')+_0xaf1443(0x256)));return _0x2c63b4;});}catch(_0x59905b){console['error'](_0x182dd3(0x280),_0x59905b&&_0x59905b['message']?_0x59905b[_0x182dd3(0x22b)]:_0x59905b);}}catch(_0xe94a99){console[_0x182dd3(0x247)](_0x182dd3(0x322),_0xe94a99);}}(),console[_0x4063c3(0x210)](_0x4063c3(0x263)),_0x35c4b9({'jsonrpc':'2.0','id':0xb,'method':'GetConnections','handle':_0x2b0354,'params':[]});}_0x24a913['id']===0xb&&_0x24a913['result']?.[_0x4063c3(0x253)]&&(_0x1c1637=_0x24a913['result']['qConnections']['map'](_0x2bacf9=>({'id':_0x2bacf9[_0x4063c3(0x300)],'name':_0x2bacf9['qName'],'connectionString':_0x2bacf9[_0x4063c3(0x2e3)],'type':_0x2bacf9[_0x4063c3(0x262)],'connection_details':parseConnectionString(_0x2bacf9[_0x4063c3(0x2e3)]||'')})),console[_0x4063c3(0x210)](_0x4063c3(0x259),JSON[_0x4063c3(0x20d)](_0x1c1637,null,0x2)),console[_0x4063c3(0x210)](_0x4063c3(0x1c7)),_0x35c4b9({'jsonrpc':_0x4063c3(0x2fd),'id':0xc,'method':_0x4063c3(0x26f),'handle':_0x2b0354,'params':[]}));if(_0x24a913['id']===0xc){let _0x2f01fa=[];_0x959a2={},_0x24a913['result']?.['qLineage']&&_0x24a913[_0x4063c3(0x324)][_0x4063c3(0x1b6)][_0x4063c3(0x17c)](_0x23102f=>{const _0x196b1a=_0x4063c3;console[_0x196b1a(0x210)](_0x196b1a(0x24f),JSON[_0x196b1a(0x20d)](_0x23102f,null,0x2));const _0x3c1e89=_0x23102f[_0x196b1a(0x27a)]||'',_0x4c2bec=_0x3c1e89[_0x196b1a(0x337)](),_0x4a2cc4=_0x23102f[_0x196b1a(0x284)]||'';let _0x456a86=null,_0x2fd5b3=_0x196b1a(0x28b),_0x344459=_0x4a2cc4?_0x4a2cc4+_0x196b1a(0x20c)+_0x3c1e89:_0x3c1e89,_0x44af5e=[_0x3c1e89,_0x4a2cc4][_0x196b1a(0x2ce)](Boolean)['join']('\x20'),_0x513bfd=_0x4a2cc4['split'](':')['pop']()[_0x196b1a(0x2fb)](/;$/,'');const _0x505b75=_0x3c1e89[_0x196b1a(0x304)](/^\s*(\[?[^\]]+?\]?)\s*:\s*(LOAD|SELECT)/i);if(_0x505b75)_0x456a86=_0x505b75[0x1][_0x196b1a(0x2fb)](/\[|\]/g,'')[_0x196b1a(0x197)]();else{if(_0x4c2bec[_0x196b1a(0x198)](_0x196b1a(0x2c1))){const _0x23e1f2=_0x3c1e89[_0x196b1a(0x304)](/RESIDENT\s+(\[?[^\]]+?\]?)/i);_0x23e1f2&&(_0x456a86=_0x23e1f2[0x1]['replace'](/\[|\]/g,'')['trim']());}else{if(_0x4c2bec[_0x196b1a(0x198)](_0x196b1a(0x1bf)))_0x456a86='InlineTable_'+a0_0xd728b['randomBytes'](0x4)['toString'](_0x196b1a(0x1cb));else{if(_0x4c2bec[_0x196b1a(0x198)]('AUTOGENERATE'))_0x456a86='AutoGenerateTable_'+a0_0xd728b[_0x196b1a(0x241)](0x4)['toString'](_0x196b1a(0x1cb));else{if(_0x4c2bec[_0x196b1a(0x22c)](_0x196b1a(0x17e))){const _0x27d5a2=_0x3c1e89['match'](/FROM\s+(.+?)(;|\s+WHERE|\s+GROUP|\s+ORDER|\s*$)/i);if(_0x27d5a2){const _0x3764e6=_0x27d5a2[0x1][_0x196b1a(0x197)](),_0x2c665d=[],_0x5636bc=/(?:^|\.)(?:["\[]([^"\]]+)["\]]|([^"\.\[\]]+))/g;let _0x557f4f;while((_0x557f4f=_0x5636bc[_0x196b1a(0x31b)](_0x3764e6))!==null){_0x2c665d[_0x196b1a(0x24c)](_0x557f4f[0x1]||_0x557f4f[0x2]);}_0x2c665d[_0x196b1a(0x339)]>0x0?(_0x344459=_0x2c665d[_0x196b1a(0x333)]('.'),_0x456a86=_0x2c665d[_0x2c665d[_0x196b1a(0x339)]-0x1],_0x2fd5b3=_0x196b1a(0x278)):(_0x344459=_0x3764e6,_0x456a86=_0x3764e6[_0x196b1a(0x2fb)](/\[|\]|'|"/g,'')[_0x196b1a(0x197)](),_0x2fd5b3=_0x196b1a(0x278)),_0x513bfd&&_0x19124b[_0x196b1a(0x265)](_0x513bfd);}}}}}}const _0x1241eb=_0x4a2cc4[_0x196b1a(0x337)]();if(_0x1241eb[_0x196b1a(0x22c)](_0x196b1a(0x319))){_0x2fd5b3=_0x196b1a(0x19d);const _0x4d9f15=_0x1241eb[_0x196b1a(0x304)](/RESIDENT\s+([^\s;]+)/);_0x4d9f15&&(_0x344459=_0x4d9f15[0x1]);}else{if(_0x4c2bec['includes'](_0x196b1a(0x1bf)))_0x2fd5b3=_0x196b1a(0x172),_0x344459=_0x196b1a(0x1bc);else{if(_0x4c2bec[_0x196b1a(0x198)](_0x196b1a(0x26d)))_0x2fd5b3=_0x196b1a(0x2dd),_0x344459='Autogenerated';else{if(_0x4a2cc4[_0x196b1a(0x304)](/\.(qvd|csv|xlsx?);?$/i)){const _0xad4169=_0x4a2cc4[_0x196b1a(0x304)](/\.(qvd|csv|xlsx?)/i);_0x2fd5b3=_0xad4169[0x1][_0x196b1a(0x288)]()===_0x196b1a(0x2a2)?_0x196b1a(0x22d):_0xad4169[0x1][_0x196b1a(0x288)]();const _0x1e6a51=_0x4a2cc4[_0x196b1a(0x304)](/^lib:\/\/(.+?)\.(qvd|csv|xlsx?);?$/i);_0x1e6a51&&(_0x344459=_0x196b1a(0x28a)+_0x1e6a51[0x1]+'.'+_0x1e6a51[0x2]),_0x513bfd&&_0x19124b[_0x196b1a(0x265)](_0x196b1a(0x18f));}}}}if(_0x456a86){if(!_0x959a2[_0x456a86])_0x959a2[_0x456a86]={'type':_0x2fd5b3,'source':_0x344459,'query':_0x44af5e,'connectionName':_0x513bfd};else{const _0x128c88=_0x959a2[_0x456a86];if(_0x344459&&_0x128c88[_0x196b1a(0x2fa)]&&!_0x128c88[_0x196b1a(0x2fa)][_0x196b1a(0x198)](_0x344459))_0x128c88[_0x196b1a(0x2fa)]+=',\x20'+_0x344459;else _0x344459&&!_0x128c88[_0x196b1a(0x2fa)]&&(_0x128c88['source']=_0x344459);_0x44af5e&&_0x128c88['query']&&!_0x128c88[_0x196b1a(0x1d4)][_0x196b1a(0x198)](_0x44af5e)&&(_0x128c88[_0x196b1a(0x1d4)]+=_0x196b1a(0x2d3)+_0x44af5e),(_0x128c88[_0x196b1a(0x213)]==='unknown'||_0x128c88[_0x196b1a(0x213)]===_0x196b1a(0x19d))&&_0x2fd5b3!=='unknown'&&_0x2fd5b3!==_0x196b1a(0x19d)&&(_0x128c88[_0x196b1a(0x213)]=_0x2fd5b3);}}}),console['log']('Updated\x20table\x20sources\x20from\x20lineage:',JSON[_0x4063c3(0x20d)](_0x959a2,null,0x2)),console[_0x4063c3(0x210)](_0x4063c3(0x2c0),JSON[_0x4063c3(0x20d)](_0x2f01fa,null,0x2)),console[_0x4063c3(0x210)](_0x4063c3(0x32a)),_0x35c4b9({'jsonrpc':_0x4063c3(0x2fd),'id':0xd,'method':_0x4063c3(0x1c5),'handle':_0x2b0354,'params':[]});}if(_0x24a913['id']===0xd&&_0x24a913[_0x4063c3(0x324)]?.[_0x4063c3(0x189)]){const _0x3957db=_0x24a913[_0x4063c3(0x324)][_0x4063c3(0x189)];let _0x5089d3=[];const _0x3fed6e={},_0x395b75={},_0x3b374f=/(let|SET)\s+([^\s=]+)\s*=\s*['"]([^'"]*)['"]\s*;/gi;let _0x9d9f0f;while((_0x9d9f0f=_0x3b374f[_0x4063c3(0x31b)](_0x3957db))!==null){const _0x58566d=_0x9d9f0f[0x2][_0x4063c3(0x197)](),_0x1728d7=_0x9d9f0f[0x3],_0x37115e=_0x9d9f0f[0x0];_0x3fed6e[_0x58566d]=_0x1728d7,_0x395b75[_0x58566d]=_0x37115e;}console[_0x4063c3(0x210)](_0x4063c3(0x194),JSON[_0x4063c3(0x20d)](_0x3fed6e,null,0x2));const _0x3bbf52=[],_0x25a7a5=/LIB\s+CONNECT\s+TO\s+['"\[]?([^'"\]]+?)['"\]]?;/gi;let _0x5b5fa7;while((_0x5b5fa7=_0x25a7a5[_0x4063c3(0x31b)](_0x3957db))!==null){const _0x5dba3b=_0x5b5fa7[0x1][_0x4063c3(0x197)](),_0x317ee3=_0x5dba3b['split'](':')['pop']();_0x317ee3&&!_0x3bbf52['includes'](_0x317ee3)&&(_0x3bbf52[_0x4063c3(0x24c)](_0x317ee3),_0x19124b[_0x4063c3(0x265)](_0x317ee3));}console[_0x4063c3(0x210)](_0x4063c3(0x237),_0x3bbf52);const _0x5df4e2=/(?:(?:\[?([\w_-]+)\]?)):\s*(MAPPING\s+)?(?:LOAD|SELECT)\s+[\s\S]*?;/gi,_0x480a08=/(?:SQL\s+)?(SELECT\s+[\s\S]*?FROM\s+[\s\S]*?);/gi;let _0x26957a=[],_0x4bee1e;while((_0x4bee1e=_0x5df4e2[_0x4063c3(0x31b)](_0x3957db))!==null){_0x26957a[_0x4063c3(0x24c)]({'block':_0x4bee1e[0x0],'index':_0x4bee1e[_0x4063c3(0x271)],'table':_0x4bee1e[0x1]});}const _0xb89010=/(?:\r?\n|^)\s*(LOAD\s+(?!AUTOGENERATE)[\s\S]*?;)/gi;while((_0x4bee1e=_0xb89010[_0x4063c3(0x31b)](_0x3957db))!==null){const _0x5bcec=_0x4bee1e[_0x4063c3(0x271)],_0x585261=_0x26957a[_0x4063c3(0x2d6)](_0x3f5d39=>_0x5bcec>=_0x3f5d39[_0x4063c3(0x271)]&&_0x5bcec<_0x3f5d39['index']+_0x3f5d39['block'][_0x4063c3(0x339)]);if(!_0x585261){const _0x32fe7c=_0x4063c3(0x18c)+a0_0xd728b[_0x4063c3(0x241)](0x4)[_0x4063c3(0x1db)](_0x4063c3(0x1cb));_0x26957a[_0x4063c3(0x24c)]({'block':_0x4bee1e[0x1],'index':_0x5bcec,'table':_0x32fe7c});}}_0x480a08[_0x4063c3(0x1ae)]=0x0;while((_0x4bee1e=_0x480a08[_0x4063c3(0x31b)](_0x3957db))!==null){const _0x2d332b=_0x4bee1e[_0x4063c3(0x271)],_0x49769e=_0x26957a[_0x4063c3(0x2d6)](_0xab33b3=>_0x2d332b>=_0xab33b3[_0x4063c3(0x271)]&&_0x2d332b<_0xab33b3[_0x4063c3(0x271)]+_0xab33b3[_0x4063c3(0x2ae)][_0x4063c3(0x339)]);!_0x49769e&&_0x26957a[_0x4063c3(0x24c)]({'block':_0x4bee1e[0x0],'index':_0x2d332b,'table':null});}const _0x5bee0f=/\bCONCATENATE\b\s*(?:\([^()]*\)\s*)?\s*LOAD\b[\s\S]*?;/gi;_0x5bee0f[_0x4063c3(0x1ae)]=0x0;while((_0x4bee1e=_0x5bee0f[_0x4063c3(0x31b)](_0x3957db))!==null){const _0x579893=_0x4bee1e[_0x4063c3(0x271)],_0x51e8da=_0x26957a[_0x4063c3(0x2d6)](_0x3b3d9f=>_0x3b3d9f[_0x4063c3(0x271)]<=_0x579893&&_0x579893<_0x3b3d9f['index']+_0x3b3d9f[_0x4063c3(0x2ae)][_0x4063c3(0x339)]);!_0x51e8da&&_0x26957a[_0x4063c3(0x24c)]({'block':_0x4bee1e[0x0],'index':_0x579893,'table':null});}_0x26957a[_0x4063c3(0x226)]((_0x16b493,_0x194752)=>_0x16b493[_0x4063c3(0x271)]-_0x194752[_0x4063c3(0x271)]);let _0x3ac24e=null,_0x3179b6=0x0;for(const {block:_0x79573f,index:_0x42e4ef,table:_0x334df7}of _0x26957a){let _0x17072b=_0x334df7;if(_0x79573f['match'](/\bCONCATENATE\b/i)){if(_0x334df7)_0x3ac24e=_0x334df7,_0x17072b=_0x334df7;else{if(_0x3ac24e)_0x17072b=_0x3ac24e;else continue;}}else _0x334df7&&(_0x3ac24e=_0x334df7);!_0x17072b&&(_0x79573f[_0x4063c3(0x197)]()[_0x4063c3(0x337)]()['startsWith']('SQL')||_0x79573f['trim']()['toUpperCase']()[_0x4063c3(0x22c)](_0x4063c3(0x17e)))&&(_0x3ac24e?_0x17072b=_0x3ac24e:(_0x17072b=_0x3179b6===0x0?'QueryResult':_0x4063c3(0x336)+_0x3179b6,_0x3179b6++));if(!_0x17072b)continue;const _0x5b3bd2=_0x42e4ef;let _0x49e025=null;_0x25a7a5[_0x4063c3(0x1ae)]=0x0;while((_0x5b5fa7=_0x25a7a5[_0x4063c3(0x31b)](_0x3957db))!==null){if(_0x5b5fa7['index']>=_0x5b3bd2)break;_0x49e025=_0x5b5fa7[0x1]['trim']();}const _0x167f49=_0x49e025?_0x49e025[_0x4063c3(0x1aa)](':')['pop']():null;let _0x21d277=_0x79573f;Object['entries'](_0x3fed6e)[_0x4063c3(0x17c)](([_0x378b56,_0x41cdee])=>{const _0x33c3e0=_0x4063c3;_0x21d277=_0x21d277[_0x33c3e0(0x2fb)](new RegExp(_0x33c3e0(0x330)+escapeRegExp(_0x378b56)+'\x5c)','g'),_0x41cdee);});let _0x3edf65=_0x4063c3(0x28b),_0x3290d8=null,_0x29ebed=_0x21d277;if(_0x334df7){const _0x4693a6=typeof _0x3957db!==_0x4063c3(0x1cd)&&_0x3957db?extractTableBlock(_0x3957db,_0x17072b):null;if(_0x4693a6)_0x29ebed=_0x4693a6;}let _0x366a57=[];const _0x3debff=new Set();if(/AUTOGENERATE/i[_0x4063c3(0x200)](_0x21d277)){if(!_0x17072b)_0x17072b=_0x334df7||'AutoGenerateTable_'+a0_0xd728b[_0x4063c3(0x241)](0x4)[_0x4063c3(0x1db)](_0x4063c3(0x1cb));_0x3edf65=_0x4063c3(0x2dd),_0x3290d8='Autogenerated';const _0x521cce=_0x21d277[_0x4063c3(0x304)](/LOAD\s+([\s\S]*?)\s*(?:AUTOGENERATE|;)/i);_0x521cce&&_0x521cce[0x1]?_0x366a57=_0x521cce[0x1][_0x4063c3(0x1aa)](',')[_0x4063c3(0x309)](_0x21192f=>{const _0x33c5ed=_0x4063c3;_0x21192f=_0x21192f[_0x33c5ed(0x197)]();const _0x1317b6=_0x21192f[_0x33c5ed(0x304)](/^.*\s+AS\s+(.+)/i);return _0x1317b6?_0x1317b6[0x1][_0x33c5ed(0x197)]()['replace'](/[\[\]"']/g,''):_0x21192f[_0x33c5ed(0x2fb)](/[\[\]"']/g,'');})['filter'](_0x302cad=>_0x302cad):_0x366a57=[];}else{const _0x1b6366=_0x21d277['match'](/(SQL\s+)?(SELECT\s+[\s\S]*?FROM\s+[\s\S]*?);/i);if(_0x1b6366){const _0xf2c338=_0x1b6366[0x2],_0x2f2f5b=_0xf2c338[_0x4063c3(0x304)](/FROM\s+(.+?)(;|\s+WHERE|\s+GROUP|\s+ORDER|\s+HAVING|\s*$)/i);if(_0x2f2f5b){const _0x5dbd1b=_0x2f2f5b[0x1]['trim'](),_0x3cd5cd=[],_0x467276=/(?:^|\.)(?:["\[]([^"\]]+)["\]]|([^"\.\[\]]+))/g;let _0x5a8be3;while((_0x5a8be3=_0x467276[_0x4063c3(0x31b)](_0x5dbd1b))!==null){_0x3cd5cd[_0x4063c3(0x24c)](_0x5a8be3[0x1]||_0x5a8be3[0x2]);}_0x3cd5cd[_0x4063c3(0x339)]>0x0?_0x3290d8=_0x3cd5cd[_0x4063c3(0x333)]('.'):_0x3290d8=_0x5dbd1b[_0x4063c3(0x2fb)](/[\[\]"']/g,'')['trim']();_0x3edf65='database';const _0x2a94ee=_0xf2c338[_0x4063c3(0x304)](/SELECT\s+([\s\S]*?)\s*FROM/i)?.[0x1];_0x2a94ee&&(_0x366a57=_0x2a94ee[_0x4063c3(0x1aa)](',')[_0x4063c3(0x309)](_0x543e26=>{const _0x109135=_0x4063c3;_0x543e26=_0x543e26['trim']();const _0x444ed2=_0x543e26[_0x109135(0x304)](/^.*\s+AS\s+(.+)/i);return _0x444ed2?_0x444ed2[0x1]['trim']()['replace'](/[\[\]"']/g,''):_0x543e26[_0x109135(0x2fb)](/[\[\]"']/g,'');})[_0x4063c3(0x2ce)](_0x29cbc9=>_0x29cbc9));if(_0x167f49)_0x19124b[_0x4063c3(0x265)](_0x167f49);}}else{const _0x25a0df=_0x21d277['match'](/LOAD\s+([\s\S]*?)\s*(FROM|RESIDENT|;)/i)?.[0x1];_0x25a0df&&(_0x366a57=_0x25a0df[_0x4063c3(0x1aa)](',')[_0x4063c3(0x309)](_0x1eff91=>{const _0x228598=_0x4063c3;_0x1eff91=_0x1eff91['trim']();const _0x2e5d35=_0x1eff91[_0x228598(0x304)](/^.*\s+AS\s+(.+)/i);return _0x2e5d35?_0x2e5d35[0x1][_0x228598(0x197)]()[_0x228598(0x2fb)](/[\[\]"']/g,''):_0x1eff91[_0x228598(0x2fb)](/[\[\]"']/g,'');})[_0x4063c3(0x2ce)](_0x2b00de=>_0x2b00de));const _0x2dba07=/FROM\s*(?:\[?)(lib:\/\/(.+?))(?:\]?\s*\(|;)/gi;let _0x738acb;const _0x397a3e=[];while((_0x738acb=_0x2dba07[_0x4063c3(0x31b)](_0x21d277))!==null){const _0x289fc2=_0x738acb[0x2],_0x8bde30=_0x4063c3(0x28a)+_0x289fc2,_0x27a9d4=_0x289fc2['match'](/\.(qvd|csv|xlsx?)$/i);if(_0x27a9d4){const _0x3359b3=_0x27a9d4[0x1][_0x4063c3(0x288)]();_0x3edf65=_0x3359b3===_0x4063c3(0x21e)?'qvd':_0x3359b3===_0x4063c3(0x1f2)?_0x4063c3(0x1f2):_0x4063c3(0x22d),_0x397a3e[_0x4063c3(0x24c)](_0x8bde30);const _0xe061a7=_0x289fc2[_0x4063c3(0x304)](/^([^\/]+)/);if(_0xe061a7){const _0x41dfce=_0xe061a7[0x1][_0x4063c3(0x198)](':')?_0xe061a7[0x1][_0x4063c3(0x1aa)](':')[_0x4063c3(0x2d1)]():_0xe061a7[0x1];_0x19124b[_0x4063c3(0x265)](_0x41dfce);}Object[_0x4063c3(0x305)](_0x3fed6e)[_0x4063c3(0x17c)](([_0x56ce0a,_0x26f63b])=>{const _0x2652b7=_0x4063c3,_0x3e917=_0x26f63b[_0x2652b7(0x2fb)](/[\[\]'"]/g,'')[_0x2652b7(0x197)](),_0x50ca70=_0x8bde30[_0x2652b7(0x2fb)](/[\[\]'"]/g,'')[_0x2652b7(0x197)]();(_0x3e917[_0x2652b7(0x198)](_0x50ca70)||_0x50ca70[_0x2652b7(0x198)](_0x3e917))&&_0x79573f[_0x2652b7(0x198)]('$('+_0x56ce0a+')')&&_0x3debff[_0x2652b7(0x265)](_0x56ce0a);});}}const _0x2659c3=_0x21d277[_0x4063c3(0x304)](/RESIDENT\s+([^\s;]+)/i);if(_0x397a3e['length']>0x0)_0x3290d8=_0x397a3e[_0x4063c3(0x333)](',\x20');else _0x2659c3&&(_0x3edf65='resident',_0x3290d8=_0x2659c3[0x1],(_0x21d277['match'](/\b(SUM|COUNT|AVG|MIN|MAX)\s*\(/i)||_0x21d277[_0x4063c3(0x304)](/GROUP\s+BY/i))&&(_0x3edf65=_0x4063c3(0x233)));}}let _0x241677=null;const _0x334214=_0x21d277['match'](/\btable\s+is\s+(['"`\[])?([^'"\]\)\s,]+)\1?/i);_0x334214&&_0x334214[0x2]&&(_0x241677=_0x334214[0x2]['replace'](/\]$/,'')['replace'](/^['"`\[]/,'')[_0x4063c3(0x2fb)](/\$$/,'')[_0x4063c3(0x197)]());if(_0x17072b&&_0x366a57[_0x4063c3(0x339)]>0x0){if(!_0x959a2[_0x17072b])_0x959a2[_0x17072b]={'variables':new Set()};const _0x41e5d5=_0x959a2[_0x17072b][_0x4063c3(0x2fa)]||'';let _0x29d014=_0x41e5d5;if(_0x3290d8){const _0x56f73e=_0x3290d8[_0x4063c3(0x2fb)](/[\[\]'"]/g,'')[_0x4063c3(0x197)]();if(_0x41e5d5){const _0x3e765f=_0x41e5d5[_0x4063c3(0x1aa)](',')[_0x4063c3(0x309)](_0x533334=>_0x533334[_0x4063c3(0x197)]());!_0x3e765f[_0x4063c3(0x198)](_0x56f73e)&&(_0x29d014=_0x41e5d5+',\x20'+_0x56f73e);}else _0x29d014=_0x56f73e;}if(_0x3debff[_0x4063c3(0x182)]>0x0){if(!_0x959a2[_0x17072b][_0x4063c3(0x2ff)])_0x959a2[_0x17072b][_0x4063c3(0x2ff)]=new Set();_0x3debff['forEach'](_0x54f45d=>_0x959a2[_0x17072b][_0x4063c3(0x2ff)][_0x4063c3(0x265)](_0x54f45d));}let _0x3e0ac7=null;if(_0x29d014[_0x4063c3(0x198)](_0x4063c3(0x28a))){const _0x2fcc56=_0x29d014[_0x4063c3(0x1aa)](',')[_0x4063c3(0x309)](_0x3d2ffa=>_0x3d2ffa[_0x4063c3(0x197)]()),_0x6af681=new Set(),_0x532ba2=new Set(),_0x1ce0e8=new Set(),_0x49fd76=new Set();let _0x1d8a66=![];if(_0x959a2[_0x17072b]?.[_0x4063c3(0x2a9)])_0x49fd76['add'](_0x959a2[_0x17072b][_0x4063c3(0x2a9)]);if(_0x241677)_0x49fd76['add'](_0x241677);_0x2fcc56[_0x4063c3(0x17c)](_0x9b28e5=>{const _0x21cdc1=_0x4063c3;if(!_0x9b28e5[_0x21cdc1(0x22c)](_0x21cdc1(0x28a)))return;const _0x405333=_0x9b28e5['split']('/')['pop'](),_0x2703f4=_0x46cbbd[_0x21cdc1(0x2fc)](_0x5ed7f9=>_0x5ed7f9[_0x21cdc1(0x199)]===_0x405333||_0x9b28e5[_0x21cdc1(0x198)](_0x5ed7f9[_0x21cdc1(0x199)]));_0x2703f4?(_0x6af681[_0x21cdc1(0x265)](_0x2703f4['id']),_0x532ba2['add'](_0x2703f4[_0x21cdc1(0x199)]),_0x1ce0e8[_0x21cdc1(0x265)](_0x2703f4[_0x21cdc1(0x19c)]||_0x9b28e5)):(_0x6af681['add'](_0x405333),_0x532ba2[_0x21cdc1(0x265)](_0x405333),_0x1ce0e8[_0x21cdc1(0x265)](_0x9b28e5),_0x1d8a66=!![]);});const _0x4f04ab=_0x959a2[_0x17072b][_0x4063c3(0x2ff)]?Array[_0x4063c3(0x29a)](_0x959a2[_0x17072b][_0x4063c3(0x2ff)])['join'](',\x20'):undefined;if(_0x6af681[_0x4063c3(0x182)]){const _0x2edb3d=Array[_0x4063c3(0x29a)](_0x49fd76)[_0x4063c3(0x333)](',\x20');_0x3e0ac7={'id':Array['from'](_0x6af681)[_0x4063c3(0x333)](',\x20'),'name':Array[_0x4063c3(0x29a)](_0x532ba2)[_0x4063c3(0x333)](',\x20'),'path':Array[_0x4063c3(0x29a)](new Set(_0x2fcc56))['join'](',\x20'),'sheet':_0x2edb3d||undefined,'created':null,'size':null,'isFallback':_0x1d8a66,'assigned_variable':_0x4f04ab};}}let _0x5475a0=_0x959a2[_0x17072b]['query']||'';if(_0x29ebed){const _0x3faece=_0x29ebed[_0x4063c3(0x1dc)](0x0,0x32);if(!_0x5475a0[_0x4063c3(0x198)](_0x3faece))_0x5475a0+='\x0a\x0a//\x20---\x20Source\x20Part\x20---\x0a'+_0x29ebed;else!_0x5475a0&&(_0x5475a0=_0x29ebed);}Object[_0x4063c3(0x1ec)](_0x959a2[_0x17072b],{'type':_0x3edf65===_0x4063c3(0x19d)&&_0x959a2[_0x17072b][_0x4063c3(0x213)]&&_0x959a2[_0x17072b][_0x4063c3(0x213)]!=='unknown'?_0x959a2[_0x17072b][_0x4063c3(0x213)]:_0x3edf65,'source':_0x29d014,'query':_0x5475a0,'connectionName':_0x167f49,'fields':_0x366a57,..._0x241677?{'sheet':_0x241677}:{},..._0x3e0ac7?{'data_file':_0x3e0ac7}:{},'data_files':undefined});}}console[_0x4063c3(0x210)]('Script\x20table\x20sources:',JSON[_0x4063c3(0x20d)](_0x959a2,null,0x2));try{let _0x4ac28f=_0x4063c3(0x22a)+_0x134283+_0x4063c3(0x178);_0x49ad49?_0x4ac28f+=_0x4063c3(0x19b)+_0x49ad49:_0x4ac28f+=_0x4063c3(0x1e8);let _0x21af93=_0x3bbf52[_0x4063c3(0x2ce)](_0x332142=>_0x19124b[_0x4063c3(0x2e1)](_0x332142))['map'](_0x3a12d8=>'qName\x20eq\x20\x22'+_0x3a12d8+'\x22')['join'](_0x4063c3(0x1ab));(_0x5089d3['length']>0x0||_0x19124b[_0x4063c3(0x2e1)]('DataFiles'))&&(_0x21af93=_0x21af93?'('+_0x21af93+_0x4063c3(0x29d):_0x4063c3(0x328));_0x21af93&&(_0x4ac28f+='&filter='+encodeURIComponent(_0x21af93));const _0xe948c3=await a0_0x59e48b(_0x4ac28f,{'method':_0x4063c3(0x217),'headers':{'Authorization':_0x4063c3(0x31d)+API_KEY,'Accept':'application/json'}});if(!_0xe948c3['ok'])throw new Error(_0x4063c3(0x28f)+_0xe948c3[_0x4063c3(0x2e7)]+_0x4063c3(0x1a7));const _0x50e6e7=await _0xe948c3[_0x4063c3(0x23a)]();_0x1c1637=(_0x50e6e7[_0x4063c3(0x290)]||[])[_0x4063c3(0x2ce)](_0x1837cc=>_0x19124b[_0x4063c3(0x2e1)](_0x1837cc[_0x4063c3(0x2bc)])||_0x1837cc[_0x4063c3(0x2bc)]===_0x4063c3(0x18f))[_0x4063c3(0x309)](_0x296da1=>({'id':_0x296da1[_0x4063c3(0x300)]||_0x296da1['id'],'name':_0x296da1[_0x4063c3(0x2bc)],'connectionString':_0x296da1[_0x4063c3(0x2bf)]||_0x296da1[_0x4063c3(0x1fa)],'type':getSpecificType(_0x296da1[_0x4063c3(0x262)],_0x296da1[_0x4063c3(0x2bf)]||_0x296da1[_0x4063c3(0x1fa)]||''),'connection_details':parseConnectionString(_0x296da1['qConnectStatement']||_0x296da1[_0x4063c3(0x1fa)]||'')})),console[_0x4063c3(0x210)](_0x4063c3(0x2a1),JSON[_0x4063c3(0x20d)](_0x1c1637,null,0x2));}catch(_0x4b1c6f){console['error']('Error\x20fetching\x20connections\x20via\x20REST:',_0x4b1c6f[_0x4063c3(0x22b)]);}if(_0x5089d3[_0x4063c3(0x339)]>0x0)try{const _0x5454c8=_0x49ad49?_0x4063c3(0x22a)+_0x134283+_0x4063c3(0x1b1)+_0x49ad49+'&limit=100':_0x4063c3(0x22a)+_0x134283+_0x4063c3(0x293),_0x3c6452=await a0_0x59e48b(_0x5454c8,{'method':'GET','headers':{'Authorization':_0x4063c3(0x31d)+API_KEY,'Accept':_0x4063c3(0x302)}});if(!_0x3c6452['ok'])throw new Error(_0x4063c3(0x28f)+_0x3c6452[_0x4063c3(0x2e7)]+_0x4063c3(0x1c6));const _0x3e8717=await _0x3c6452['json']();_0x46cbbd=(_0x3e8717[_0x4063c3(0x290)]||[])['filter'](_0x2a0d8e=>_0x5089d3[_0x4063c3(0x2d6)](_0x2ad1b3=>_0x2ad1b3['path'][_0x4063c3(0x198)](_0x2a0d8e['name'])))[_0x4063c3(0x309)](_0x32f5f2=>({'id':_0x32f5f2['id'],'name':_0x32f5f2[_0x4063c3(0x199)],'path':_0x4063c3(0x335)+_0x32f5f2['name'],'created':_0x32f5f2[_0x4063c3(0x1fb)],'size':_0x32f5f2[_0x4063c3(0x182)]})),console['log'](_0x4063c3(0x2aa),JSON[_0x4063c3(0x20d)](_0x46cbbd,null,0x2));}catch(_0x481fe8){console[_0x4063c3(0x247)](_0x4063c3(0x1f4),_0x481fe8[_0x4063c3(0x22b)]);}const _0x43f5b5={},_0x175713=_0x3957db[_0x4063c3(0x304)](/\[[\w_]+\]:\s*LOAD\s+[\s\S]*?;/gi)||[];for(let _0x529554 of _0x175713){const _0x46a344=_0x529554[_0x4063c3(0x304)](/\[([\w_-]+)\]:\s*LOAD/i);if(_0x46a344){const _0x28ce3b=_0x46a344[0x1];let _0x12a698;try{_0x12a698=_0x529554[_0x4063c3(0x304)](/LOAD\s+([\s\S]*?)\s*;/i)[0x1];}catch(_0x470d71){continue;}let _0x5bb9ef=[],_0x11e1f2='',_0x49129c=0x0;for(let _0x17f6e3 of _0x12a698){if(_0x17f6e3===','&&_0x49129c===0x0)_0x11e1f2[_0x4063c3(0x197)]()&&_0x5bb9ef[_0x4063c3(0x24c)](_0x11e1f2[_0x4063c3(0x197)]()),_0x11e1f2='';else{_0x11e1f2+=_0x17f6e3;if(_0x17f6e3==='(')_0x49129c++;else _0x17f6e3===')'&&_0x49129c--;}}_0x11e1f2['trim']()&&_0x5bb9ef[_0x4063c3(0x24c)](_0x11e1f2[_0x4063c3(0x197)]());_0x5bb9ef=_0x5bb9ef['filter'](_0xf2c479=>_0xf2c479);const _0x1b93d2=[];for(let _0x1ec967 of _0x5bb9ef){const _0x3f1543=_0x1ec967['match'](/(.+)\s+AS\s*(.+)/i);if(_0x3f1543){let _0x29b0c2=_0x3f1543[0x1][_0x4063c3(0x197)]()[_0x4063c3(0x2fb)](/[\[\]"']/g,''),_0x37cdaf=_0x3f1543[0x2][_0x4063c3(0x197)]()[_0x4063c3(0x2fb)](/[\[\]"']/g,'');_0x37cdaf=_0x37cdaf[_0x4063c3(0x2fb)](/\s*(FROM|RESIDENT|INLINE|AUTOGENERATE|WHERE|JOIN|LEFT\s+JOIN|RIGHT\s+JOIN|INNER\s+JOIN).*/i,'');const _0x446c22=['&','|','+','-','*','/','^'];if(_0x29b0c2[_0x4063c3(0x198)]('(')||_0x446c22[_0x4063c3(0x2d6)](_0x42b80f=>_0x29b0c2[_0x4063c3(0x198)](_0x42b80f)))continue;_0x1b93d2[_0x4063c3(0x24c)]({'original':_0x29b0c2,'alias':_0x37cdaf});}else{let _0x3ec79c=_0x1ec967[_0x4063c3(0x197)]()[_0x4063c3(0x2fb)](/[\[\]"']/g,'');_0x3ec79c&&_0x1b93d2[_0x4063c3(0x24c)]({'original':_0x3ec79c,'alias':_0x3ec79c});}}const _0x52ab55={};_0x1b93d2[_0x4063c3(0x17c)](_0x46f0e7=>{const _0x85c408=_0x4063c3;_0x52ab55[_0x46f0e7[_0x85c408(0x250)]]=_0x46f0e7[_0x85c408(0x1f6)];}),_0x43f5b5[_0x28ce3b]=_0x52ab55;}}Object['keys'](_0x46e492)[_0x4063c3(0x17c)](_0x445522=>{const _0x349271=_0x4063c3,_0x10eb35=_0x43f5b5[_0x445522]||{};_0x46e492[_0x445522][_0x349271(0x17c)](_0x175f18=>{const _0x584ba2=_0x349271,_0x3698aa=_0x10eb35[_0x175f18[_0x584ba2(0x199)]];_0x175f18[_0x584ba2(0x32e)]=_0x3698aa&&_0x3698aa!==_0x175f18['name']?_0x3698aa:null;});});function _0x361642(_0xcc4156){const _0x1e507e=_0x4063c3;let _0x23c99e=_0xcc4156;const _0x24ac54=new Set();while(_0x959a2[_0x23c99e]&&_0x959a2[_0x23c99e][_0x1e507e(0x213)]==='resident'&&!_0x24ac54[_0x1e507e(0x2e1)](_0x23c99e)){_0x24ac54[_0x1e507e(0x265)](_0x23c99e),_0x23c99e=_0x959a2[_0x23c99e]['source'];}return _0x959a2[_0x23c99e]||{'type':'unknown','source':null,'query':null,'connectionName':null,'fields':[]};}Object[_0x4063c3(0x286)](_0x46e492)[_0x4063c3(0x17c)](_0x48c190=>{const _0x512d61=_0x4063c3;if(!_0x959a2[_0x48c190]||_0x959a2[_0x48c190][_0x512d61(0x213)]===_0x512d61(0x28b)){const _0x3151a4=new Set(_0x46e492[_0x48c190]['map'](_0x5db9bb=>_0x5db9bb[_0x512d61(0x199)]));let _0xf52fd1=null,_0x461c73=0x0,_0x5a81d4=null;Object[_0x512d61(0x305)](_0x959a2)['forEach'](([_0x5b2433,_0x5c80db])=>{const _0x1f58ce=_0x512d61;if(!_0x5c80db||!Array[_0x1f58ce(0x28e)](_0x5c80db['fields'])||_0x5c80db[_0x1f58ce(0x22e)][_0x1f58ce(0x339)]===0x0)return;const _0x48b7a7=new Set(_0x5c80db[_0x1f58ce(0x22e)]),_0x1340aa=Array['from'](_0x3151a4)[_0x1f58ce(0x2ce)](_0x30d9b4=>_0x48b7a7[_0x1f58ce(0x2e1)](_0x30d9b4))[_0x1f58ce(0x339)],_0x75e2b7=_0x1340aa/Math[_0x1f58ce(0x2ec)](_0x3151a4[_0x1f58ce(0x182)],_0x48b7a7['size']),_0x5dc326=_0x48c190['split']('_')[0x0]===_0x5b2433[_0x1f58ce(0x1aa)]('_')[0x0]||_0x5b2433['startsWith']('AnonymousSource');(_0x75e2b7>0.5&&_0x5dc326||_0x75e2b7>0.8)&&(_0x1340aa>_0x461c73&&(_0x461c73=_0x1340aa,_0xf52fd1=_0x5c80db,_0x5a81d4=_0x5b2433));});if(_0xf52fd1)console[_0x512d61(0x210)](_0x512d61(0x225)+_0x48c190+_0x512d61(0x184)+_0x5a81d4+'\x20('+_0x461c73+_0x512d61(0x298)),_0x959a2[_0x48c190]={..._0xf52fd1};else{console[_0x512d61(0x210)](_0x512d61(0x1f3)+_0x48c190+',\x20preserving\x20existing\x20source/query\x20if\x20present');if(!_0x959a2[_0x48c190])_0x959a2[_0x48c190]={'type':'unknown','source':null,'query':null,'connectionName':null,'fields':[]};else{_0x959a2[_0x48c190][_0x512d61(0x213)]=_0x959a2[_0x48c190][_0x512d61(0x213)]||_0x512d61(0x28b);if(!_0x959a2[_0x48c190][_0x512d61(0x1df)])_0x959a2[_0x48c190]['sourceType']=_0x959a2[_0x48c190][_0x512d61(0x213)]||_0x512d61(0x28b);}}}}),Object[_0x4063c3(0x286)](_0x46e492)[_0x4063c3(0x17c)](_0x21038d=>{const _0x9c53f5=_0x4063c3,_0x15cd80=_0x959a2[_0x21038d]?.[_0x9c53f5(0x1d4)]||null;let _0x2feb53=_0x361642(_0x21038d),_0x5e5133=null;if(_0x2feb53[_0x9c53f5(0x213)]===_0x9c53f5(0x1b8)||_0x2feb53[_0x9c53f5(0x213)]===_0x9c53f5(0x278)){const _0x398aba=_0x2feb53[_0x9c53f5(0x2fa)]?_0x2feb53[_0x9c53f5(0x2fa)][_0x9c53f5(0x1aa)]('.')[0x0]:'unknown';_0x5e5133=_0x1c1637[_0x9c53f5(0x2fc)](_0x20c768=>_0x20c768[_0x9c53f5(0x23f)][_0x9c53f5(0x278)]&&_0x20c768['connection_details'][_0x9c53f5(0x278)]['toLowerCase']()===_0x398aba['toLowerCase']()||_0x2feb53['connectionName']&&_0x2feb53['connectionName'][_0x9c53f5(0x288)]()===_0x20c768[_0x9c53f5(0x199)][_0x9c53f5(0x288)]()),_0x5e5133&&(_0x2feb53['type']=getSpecificType(_0x5e5133[_0x9c53f5(0x213)],_0x5e5133[_0x9c53f5(0x1fa)]),_0x2feb53[_0x9c53f5(0x2fa)]=_0x5e5133[_0x9c53f5(0x199)]+':\x20'+_0x2feb53[_0x9c53f5(0x2fa)],_0x46e492[_0x21038d][_0x9c53f5(0x23f)]=_0x5e5133[_0x9c53f5(0x23f)]);}else{if([_0x9c53f5(0x21e),_0x9c53f5(0x1f2),'excel'][_0x9c53f5(0x198)](_0x2feb53['type'])){const _0x58b537=(_0x2feb53['source']||'')[_0x9c53f5(0x1aa)](',')[_0x9c53f5(0x309)](_0x2d4b1b=>_0x2d4b1b[_0x9c53f5(0x197)]());let _0x51353a=[];_0x58b537[_0x9c53f5(0x17c)](_0x374af9=>{const _0x19e785=_0x9c53f5,_0x559e35=(_0x374af9[_0x19e785(0x1aa)]('/')[_0x19e785(0x2d1)]()||'')['trim'](),_0x289cb1=_0x46cbbd[_0x19e785(0x2ce)](_0x12149d=>_0x559e35&&(_0x12149d['name']===_0x559e35||_0x12149d[_0x19e785(0x199)]&&_0x374af9[_0x19e785(0x198)](_0x12149d[_0x19e785(0x199)])));if(_0x289cb1['length']>0x0)_0x51353a['push'](..._0x289cb1);else{const _0x196227=_0x559e35||_0x374af9[_0x19e785(0x1aa)]('/')['pop']();_0x51353a[_0x19e785(0x24c)]({'id':_0x196227,'name':_0x196227,'path':_0x374af9,'created':null,'size':null,'isFallback':!![]});}});const _0x3e51ed=[...new Map(_0x51353a[_0x9c53f5(0x309)](_0x3743a0=>[_0x3743a0[_0x9c53f5(0x199)],_0x3743a0]))[_0x9c53f5(0x30c)]()],_0x3d810e=_0x2feb53[_0x9c53f5(0x311)]?.[_0x9c53f5(0x186)];if(_0x3e51ed[_0x9c53f5(0x339)]>0x0){const _0x287331=Array[_0x9c53f5(0x29a)](new Set(_0x3e51ed[_0x9c53f5(0x309)](_0x5e5d30=>_0x5e5d30['id'])))[_0x9c53f5(0x333)](',\x20'),_0x3f4dca=Array[_0x9c53f5(0x29a)](new Set(_0x3e51ed[_0x9c53f5(0x309)](_0x44dfbc=>_0x44dfbc[_0x9c53f5(0x199)])))['join'](',\x20'),_0x2590fd=Array[_0x9c53f5(0x29a)](new Set(_0x3e51ed[_0x9c53f5(0x309)](_0x40f044=>_0x40f044[_0x9c53f5(0x19c)])))[_0x9c53f5(0x333)](',\x20'),_0x44f2a7=Array[_0x9c53f5(0x29a)](new Set(_0x3e51ed['map'](_0x4cdc3c=>_0x4cdc3c['sheet']||'')[_0x9c53f5(0x2ce)](_0x100dc1=>_0x100dc1)))[_0x9c53f5(0x333)](',\x20');_0x46e492[_0x21038d][_0x9c53f5(0x311)]={'id':_0x287331,'name':_0x3f4dca,'path':_0x2590fd,'created':null,'size':null,'isFallback':_0x3e51ed[_0x9c53f5(0x2d6)](_0x4607e3=>_0x4607e3[_0x9c53f5(0x2f6)]),..._0x44f2a7?{'sheet':_0x44f2a7}:{},'assigned_variable':_0x3d810e||undefined},_0x2feb53[_0x9c53f5(0x2fa)]=_0x2590fd;}_0x2feb53[_0x9c53f5(0x2fa)]&&_0x2feb53[_0x9c53f5(0x2fa)][_0x9c53f5(0x198)](_0x9c53f5(0x18f))&&(typeof _0x19124b!==_0x9c53f5(0x1cd)&&_0x19124b&&_0x19124b['add']('DataFiles'));}}const _0x1e3d38=_0x46e492[_0x21038d][_0x9c53f5(0x311)];let _0x19bf3a=_0x2feb53[_0x9c53f5(0x1d4)];_0x15cd80&&_0x15cd80!==_0x2feb53[_0x9c53f5(0x1d4)]&&(!_0x19bf3a[_0x9c53f5(0x198)](_0x15cd80)&&(_0x19bf3a=(_0x19bf3a||'')+_0x9c53f5(0x315)+_0x15cd80)),_0x46e492[_0x21038d]={'fields':_0x46e492[_0x21038d],'sourceType':_0x2feb53['type'],'source':_0x2feb53[_0x9c53f5(0x2fa)],'query':_0x19bf3a,..._0x2feb53['connection_details']?{'connection_details':_0x2feb53[_0x9c53f5(0x23f)]}:{},..._0x1e3d38?{'data_file':_0x1e3d38}:{}};}),_0x1c1637=_0x1c1637[_0x4063c3(0x2ce)](_0x5b81e6=>_0x19124b['has'](_0x5b81e6[_0x4063c3(0x199)])),console[_0x4063c3(0x210)](_0x4063c3(0x2eb),JSON[_0x4063c3(0x20d)](_0x1c1637,null,0x2)),console[_0x4063c3(0x210)](_0x4063c3(0x2a7),JSON[_0x4063c3(0x20d)](_0x959a2,null,0x2)),console[_0x4063c3(0x210)](_0x4063c3(0x2cc),JSON[_0x4063c3(0x20d)](_0x46e492,null,0x2)),console[_0x4063c3(0x210)](_0x4063c3(0x29f),JSON[_0x4063c3(0x20d)](_0x46cbbd,null,0x2)),console[_0x4063c3(0x210)]('Fetching\x20sheets'),_0x35c4b9({'jsonrpc':_0x4063c3(0x2fd),'id':0xe,'method':_0x4063c3(0x2df),'handle':_0x2b0354,'params':[{'qInfo':{'qType':_0x4063c3(0x1e0)},'qAppObjectListDef':{'qType':_0x4063c3(0x2a9),'qData':{'title':'/qMetaDef/title','description':_0x4063c3(0x2e4),'thumbnail':_0x4063c3(0x2bb),'lastReloadTime':'/lastReloadTime','hasSectionAccess':_0x4063c3(0x19f)}}}]});}_0x24a913['id']===0xe&&_0x24a913[_0x4063c3(0x324)]?.[_0x4063c3(0x20a)]?.['qHandle']&&(console['log'](_0x4063c3(0x31a)),_0x35c4b9({'jsonrpc':_0x4063c3(0x2fd),'id':0xf,'method':_0x4063c3(0x332),'handle':_0x24a913[_0x4063c3(0x324)]['qReturn'][_0x4063c3(0x1bb)],'params':[]}));if(_0x24a913['id']===0xf&&_0x24a913[_0x4063c3(0x324)]?.[_0x4063c3(0x1b3)]?.[_0x4063c3(0x234)]?.[_0x4063c3(0x32c)]){_0x2902b6=_0x24a913[_0x4063c3(0x324)][_0x4063c3(0x1b3)][_0x4063c3(0x234)][_0x4063c3(0x32c)],_0x1758c6=_0x2902b6[_0x4063c3(0x339)],console['log']('Processing\x20sheets:',_0x1758c6),_0x39481e=0x0;if(_0x1758c6===0x0)_0x151213();else for(let _0x12cc90=0x0;_0x12cc90<_0x1758c6;_0x12cc90++){_0x35c4b9({'jsonrpc':'2.0','id':0x258+_0x12cc90,'method':_0x4063c3(0x25a),'handle':_0x2b0354,'params':[_0x2902b6[_0x12cc90][_0x4063c3(0x1da)]['qId']]});}}if(_0x24a913['id']>=0x258&&_0x24a913['id']<0x2bc&&_0x24a913[_0x4063c3(0x324)]?.['qReturn']?.[_0x4063c3(0x1bb)]){const _0xc182f2=_0x24a913['id']-0x258;_0x35c4b9({'jsonrpc':'2.0','id':0x3e8+_0xc182f2,'method':_0x4063c3(0x2e8),'handle':_0x24a913['result'][_0x4063c3(0x20a)][_0x4063c3(0x1bb)],'params':[]});}if(_0x24a913['id']>=0x3e8&&_0x24a913['id']<0x44c){const _0x22a5a0=_0x24a913['id']-0x3e8,_0x44dd9f=_0x2902b6[_0x22a5a0],_0xffc614=_0x24a913[_0x4063c3(0x324)]?.['qPropEntry'];let _0x46d51c=[],_0x56352c=[];if(_0xffc614){const _0x318a3f=_0xffc614[_0x4063c3(0x21f)];_0x46d51c=_0xffc614[_0x4063c3(0x20e)][_0x4063c3(0x309)](_0x528a02=>{const _0x1b06df=_0x4063c3,_0x2d5be6=_0x528a02[_0x1b06df(0x21f)]||{},_0x2501e4=Array[_0x1b06df(0x28e)](_0x528a02[_0x1b06df(0x20e)])?_0x528a02['qChildren']:[],_0x1f1d67={'qProperty':_0x2d5be6,'qChildren':_0x2501e4};return(_0x2d5be6[_0x1b06df(0x1da)]?.[_0x1b06df(0x262)]===_0x1b06df(0x2ad)||_0x2d5be6[_0x1b06df(0x1da)]?.[_0x1b06df(0x262)]===_0x1b06df(0x2c8))&&_0x56352c['push'](_0x1f1d67),_0x1f1d67;}),_0x27bd3b[_0x4063c3(0x24c)]({'qInfo':_0x44dd9f[_0x4063c3(0x1da)],'qMeta':_0x44dd9f[_0x4063c3(0x1ed)],'properties':_0x318a3f,'visualizations':_0x46d51c,'filters':_0x56352c,'snapshots':[]});}else _0x27bd3b[_0x4063c3(0x24c)]({'qInfo':_0x44dd9f[_0x4063c3(0x1da)],'qMeta':_0x44dd9f['qMeta'],'properties':{},'visualizations':[],'filters':[],'snapshots':[]});_0x39481e++,_0x151213();}_0x24a913['id']===0x10&&_0x24a913[_0x4063c3(0x324)]?.['qReturn']?.[_0x4063c3(0x1bb)]&&(console['log'](_0x4063c3(0x306)),_0x35c4b9({'jsonrpc':_0x4063c3(0x2fd),'id':0x11,'method':'GetLayout','handle':_0x24a913[_0x4063c3(0x324)][_0x4063c3(0x20a)][_0x4063c3(0x1bb)],'params':[]}));if(_0x24a913['id']===0x11&&_0x24a913[_0x4063c3(0x324)]?.['qLayout']?.[_0x4063c3(0x234)]?.[_0x4063c3(0x32c)]){_0x2412e8=_0x24a913[_0x4063c3(0x324)][_0x4063c3(0x1b3)]['qAppObjectList'][_0x4063c3(0x32c)],_0x3e0952=_0x2412e8[_0x4063c3(0x339)],console['log'](_0x4063c3(0x1d9),_0x3e0952),_0x2a2e35=0x0;if(_0x3e0952===0x0)_0x4620c7();else for(let _0x5cb843=0x0;_0x5cb843<_0x3e0952;_0x5cb843++){_0x35c4b9({'jsonrpc':_0x4063c3(0x2fd),'id':0x44c+_0x5cb843,'method':_0x4063c3(0x25a),'handle':_0x2b0354,'params':[_0x2412e8[_0x5cb843]['qInfo'][_0x4063c3(0x300)]]});}}if(_0x24a913['id']>=0x44c&&_0x24a913['id']<0x4b0&&_0x24a913['result']?.[_0x4063c3(0x20a)]?.['qHandle']){const _0x547702=_0x24a913['id']-0x44c;_0x35c4b9({'jsonrpc':_0x4063c3(0x2fd),'id':0x4b0+_0x547702,'method':_0x4063c3(0x2e8),'handle':_0x24a913[_0x4063c3(0x324)]['qReturn'][_0x4063c3(0x1bb)],'params':[]});}if(_0x24a913['id']>=0x4b0&&_0x24a913['id']<0x514){const _0x5665eb=_0x24a913['id']-0x4b0,_0x8076bb=_0x2412e8[_0x5665eb],_0x22d335=_0x24a913[_0x4063c3(0x324)]?.[_0x4063c3(0x2e0)];let _0x3bcbff=[];if(_0x22d335){const _0x4b5ba6=_0x22d335[_0x4063c3(0x21f)];_0x3bcbff=await Promise[_0x4063c3(0x329)](_0x22d335['qChildren'][_0x4063c3(0x309)](async _0x52a0ea=>{const _0x2da841=_0x4063c3,_0x11c3dd=_0x52a0ea[_0x2da841(0x21f)];let _0x49acea=null;if(_0x11c3dd['qInfo'][_0x2da841(0x262)]===_0x2da841(0x1eb)&&_0x52a0ea['qChildren']&&_0x52a0ea[_0x2da841(0x20e)][_0x2da841(0x339)]>0x0){const _0x19e6c2=await Promise[_0x2da841(0x329)](_0x52a0ea['qChildren'][_0x2da841(0x309)](async _0xb502ea=>{const _0xf78e1c=_0x2da841,_0x575632=_0xb502ea[_0xf78e1c(0x21f)];let _0x15f80d=null;if(_0x575632[_0xf78e1c(0x1da)][_0xf78e1c(0x262)]===_0xf78e1c(0x26e)&&_0x575632['visualization'])try{const _0x288f46='https://'+_0x134283+'/api/v1/apps/'+_0x203f3a+_0xf78e1c(0x246)+_0x575632[_0xf78e1c(0x1da)]['qId']+_0xf78e1c(0x212)+_0x5d7f73,_0x29f6a2=await a0_0x59e48b(_0x288f46,{'method':_0xf78e1c(0x217),'headers':{'Authorization':_0xf78e1c(0x31d)+API_KEY,'x-qlik-xrfkey':_0x5d7f73,'Accept':_0xf78e1c(0x321)}});if(_0x29f6a2['ok']){const _0x33ee36=await _0x29f6a2[_0xf78e1c(0x17a)]();_0x15f80d=_0xf78e1c(0x236)+_0x33ee36[_0xf78e1c(0x1db)](_0xf78e1c(0x2c4));}else console[_0xf78e1c(0x210)]('Failed\x20to\x20fetch\x20snapshot\x20image\x20for\x20'+_0x575632[_0xf78e1c(0x1da)]['qId']+_0xf78e1c(0x26c)+_0x29f6a2['status']);}catch(_0x5886ad){console[_0xf78e1c(0x247)](_0xf78e1c(0x1f7)+_0x575632[_0xf78e1c(0x1da)][_0xf78e1c(0x300)]+':',_0x5886ad[_0xf78e1c(0x22b)]);}return{'qProperty':{..._0x575632,'imageUrl':_0x15f80d},'qChildren':[]};}));return{'qProperty':{..._0x11c3dd,'qChildListDef':{'qData':{'title':_0x2da841(0x1a6),'sheetId':_0x2da841(0x2bd),'ratio':_0x2da841(0x255),'position':'/position','dataPath':_0x2da841(0x2f0),'srcPath':_0x2da841(0x224),'visualization':_0x2da841(0x30f),'visualizationType':_0x2da841(0x1fd),'style':_0x2da841(0x258)}}},'qChildren':_0x19e6c2};}return{'qProperty':{..._0x11c3dd,'qChildListDef':{'qData':{'title':_0x2da841(0x1a6),'sheetId':_0x2da841(0x2bd),'ratio':'/ratio','position':_0x2da841(0x26a),'dataPath':_0x2da841(0x2f0),'srcPath':_0x2da841(0x224),'visualization':_0x2da841(0x30f),'visualizationType':_0x2da841(0x1fd),'style':'/style'}}},'qChildren':[]};}));let _0x1a20bc=null;try{const _0x4b7ee9=_0x4063c3(0x22a)+_0x134283+_0x4063c3(0x2d9)+_0x203f3a+_0x4063c3(0x246)+_0x8076bb['qInfo'][_0x4063c3(0x300)]+'/thumbnail?xrfkey='+_0x5d7f73,_0x200ca5=await a0_0x59e48b(_0x4b7ee9,{'method':_0x4063c3(0x217),'headers':{'Authorization':'Bearer\x20'+API_KEY,'x-qlik-xrfkey':_0x5d7f73,'Accept':_0x4063c3(0x321)}});if(_0x200ca5['ok']){const _0x1ff949=await _0x200ca5[_0x4063c3(0x17a)]();_0x1a20bc='data:image/png;base64,'+_0x1ff949[_0x4063c3(0x1db)]('base64');}else console[_0x4063c3(0x210)]('Failed\x20to\x20fetch\x20story\x20thumbnail\x20for\x20'+_0x8076bb[_0x4063c3(0x1da)][_0x4063c3(0x300)]+_0x4063c3(0x26c)+_0x200ca5[_0x4063c3(0x2e7)]);}catch(_0x40f9db){console[_0x4063c3(0x247)](_0x4063c3(0x295)+_0x8076bb[_0x4063c3(0x1da)][_0x4063c3(0x300)]+':',_0x40f9db['message']);}_0x40a253[_0x4063c3(0x24c)]({'qProperty':{'qInfo':_0x8076bb[_0x4063c3(0x1da)],'qMetaDef':_0x8076bb[_0x4063c3(0x1ed)],'creationDate':_0x8076bb[_0x4063c3(0x18b)]?.['creationDate']||null,'rank':_0x8076bb[_0x4063c3(0x18b)]?.[_0x4063c3(0x2ba)]||-0x1,'thumbnail':_0x1a20bc?{'qStaticContentUrlDef':{'qUrl':_0x1a20bc}}:{'qStaticContentUrlDef':{}},'qChildListDef':{'qData':{'title':_0x4063c3(0x1a6),'rank':_0x4063c3(0x273)}}},'qChildren':_0x3bcbff});}else _0x40a253['push']({'qProperty':{'qInfo':_0x8076bb[_0x4063c3(0x1da)],'qMetaDef':_0x8076bb[_0x4063c3(0x1ed)],'creationDate':_0x8076bb[_0x4063c3(0x18b)]?.[_0x4063c3(0x23c)]||null,'rank':_0x8076bb[_0x4063c3(0x18b)]?.[_0x4063c3(0x2ba)]||-0x1,'thumbnail':{'qStaticContentUrlDef':{}},'qChildListDef':{'qData':{'title':_0x4063c3(0x1a6),'rank':_0x4063c3(0x273)}}},'qChildren':[]});console['log'](_0x4063c3(0x287)+_0x8076bb[_0x4063c3(0x1da)][_0x4063c3(0x300)]+':',JSON[_0x4063c3(0x20d)](_0x40a253[_0x40a253[_0x4063c3(0x339)]-0x1],null,0x2)),_0x2a2e35++,_0x4620c7();}}),_0x582313['on'](_0x309d6d(0x247),_0x3373dd=>{const _0x408f67=_0x309d6d;console[_0x408f67(0x247)]('WebSocket\x20error:',_0x3373dd),clearTimeout(_0x2df191),_0x8669fd(_0x3373dd),_0x582313['close']();}),_0x582313['on'](_0x309d6d(0x1e3),(_0x5c4c8f,_0x114b6e)=>{const _0x4b2df2=_0x309d6d;console[_0x4b2df2(0x210)](_0x4b2df2(0x307)+_0x5c4c8f+',\x20reason:\x20'+_0x114b6e),clearTimeout(_0x2df191),_0x1a646c[_0x4b2df2(0x182)]>0x0&&_0x8669fd(new Error(_0x4b2df2(0x175)));});});}async function startAppMetadataSession(_0x4c88fa){const _0x31324d=a0_0x42f9ea;let _0x4b0984=0x0;const _0x1d5b89=0xa;while(!![]){try{console[_0x31324d(0x210)]('ðŸš€\x20Starting\x20Qlik\x20metadata\x20session\x20for\x20app\x20'+_0x4c88fa),await getAppMetadata(_0x4c88fa),console[_0x31324d(0x210)](_0x31324d(0x303)),_0x4b0984=0x0;}catch(_0x1e9cb5){_0x4b0984++;const _0x5b9143=Math[_0x31324d(0x23e)](0xea60,0x7d0*_0x4b0984);console[_0x31324d(0x247)]('ðŸ’¥\x20getAppMetadata\x20failed\x20('+_0x4b0984+'):\x20'+_0x1e9cb5['message']),console['log'](_0x31324d(0x29b)+_0x5b9143/0x3e8+_0x31324d(0x327)),await new Promise(_0xcc924b=>setTimeout(_0xcc924b,_0x5b9143));}}}app['get'](a0_0x42f9ea(0x2e2),async(_0x20569c,_0x173d09)=>{const _0x55f4ae=a0_0x42f9ea,_0x2a887d=_0x20569c[_0x55f4ae(0x2da)]['appId'],_0x1b32e9=_0x20569c['headers']['authorization'];if(!_0x1b32e9)return console['error'](_0x55f4ae(0x1cc)),_0x173d09['status'](0x191)[_0x55f4ae(0x23a)]({'error':'No\x20Authorization\x20header\x20provided'});try{const _0x311c14=await getAppMetadata(_0x2a887d,_0x1b32e9);_0x173d09[_0x55f4ae(0x23a)]({'appId':_0x311c14['appId'],'tables':_0x311c14[_0x55f4ae(0x1f8)]});}catch(_0x242d0e){_0x173d09[_0x55f4ae(0x2e7)](0x1f4)[_0x55f4ae(0x23a)]({'error':_0x242d0e['message']});}}),app['get'](a0_0x42f9ea(0x187),async(_0x454321,_0x4b802a)=>{const _0x1d4e77=a0_0x42f9ea,_0x57b9bc=_0x454321['params'][_0x1d4e77(0x209)],_0x5514fe=_0x454321[_0x1d4e77(0x323)][_0x1d4e77(0x1f1)];if(!_0x5514fe)return console['error'](_0x1d4e77(0x1cc)),_0x4b802a[_0x1d4e77(0x2e7)](0x191)['json']({'error':_0x1d4e77(0x201)});try{const _0x2ab3e6=await getAppMetadata(_0x57b9bc,_0x5514fe);_0x4b802a[_0x1d4e77(0x23a)]({'appId':_0x2ab3e6[_0x1d4e77(0x209)],'dimensions':_0x2ab3e6[_0x1d4e77(0x238)]});}catch(_0xa61f35){_0x4b802a[_0x1d4e77(0x2e7)](0x1f4)[_0x1d4e77(0x23a)]({'error':_0xa61f35['message']});}}),app[a0_0x42f9ea(0x195)](a0_0x42f9ea(0x211),async(_0x28a168,_0x2417c9)=>{const _0x36e49b=a0_0x42f9ea,_0x48e140=_0x28a168[_0x36e49b(0x2da)][_0x36e49b(0x209)],_0x285be9=_0x28a168[_0x36e49b(0x323)][_0x36e49b(0x1f1)];if(!_0x285be9)return console[_0x36e49b(0x247)](_0x36e49b(0x1cc)),_0x2417c9[_0x36e49b(0x2e7)](0x191)[_0x36e49b(0x23a)]({'error':_0x36e49b(0x201)});try{const _0x49c9fc=await getAppMetadata(_0x48e140,_0x285be9);_0x2417c9[_0x36e49b(0x23a)]({'appId':_0x49c9fc[_0x36e49b(0x209)],'measures':_0x49c9fc[_0x36e49b(0x281)]});}catch(_0x145278){_0x2417c9['status'](0x1f4)[_0x36e49b(0x23a)]({'error':_0x145278[_0x36e49b(0x22b)]});}}),app[a0_0x42f9ea(0x195)]('/relationships/:appId',async(_0xcbaf3b,_0x30079d)=>{const _0x4f9055=a0_0x42f9ea,_0x2ca94c=_0xcbaf3b[_0x4f9055(0x2da)][_0x4f9055(0x209)],_0x129d28=_0xcbaf3b[_0x4f9055(0x323)]['authorization'];if(!_0x129d28)return console[_0x4f9055(0x247)]('Missing\x20Authorization\x20Header'),_0x30079d[_0x4f9055(0x2e7)](0x191)[_0x4f9055(0x23a)]({'error':_0x4f9055(0x201)});try{const _0xd9f8d2=await getAppMetadata(_0x2ca94c,_0x129d28);_0x30079d[_0x4f9055(0x23a)]({'appId':_0xd9f8d2[_0x4f9055(0x209)],'relationships':_0xd9f8d2[_0x4f9055(0x301)]});}catch(_0x248b16){_0x30079d[_0x4f9055(0x2e7)](0x1f4)[_0x4f9055(0x23a)]({'error':_0x248b16['message']});}}),app[a0_0x42f9ea(0x195)]('/sheets/:appId',async(_0x4f2a7a,_0x59957c)=>{const _0x381354=a0_0x42f9ea,_0x1328f5=_0x4f2a7a[_0x381354(0x2da)]['appId'],_0x202ea3=_0x4f2a7a[_0x381354(0x323)]['authorization'];if(!_0x202ea3)return console[_0x381354(0x247)](_0x381354(0x1cc)),_0x59957c['status'](0x191)['json']({'error':_0x381354(0x201)});try{const _0x2ae2da=await getAppMetadata(_0x1328f5,_0x202ea3);_0x59957c[_0x381354(0x23a)]({'appId':_0x2ae2da['appId'],'sheets':_0x2ae2da['sheets']});}catch(_0x54f93e){_0x59957c[_0x381354(0x2e7)](0x1f4)[_0x381354(0x23a)]({'error':_0x54f93e[_0x381354(0x22b)]});}}),app[a0_0x42f9ea(0x195)](a0_0x42f9ea(0x228),async(_0x4ced2d,_0x589c41)=>{const _0x5de792=a0_0x42f9ea,_0x2573ae=_0x4ced2d['params'][_0x5de792(0x209)],_0x24d27a=_0x4ced2d[_0x5de792(0x323)]['authorization'];if(!_0x24d27a)return console[_0x5de792(0x247)](_0x5de792(0x1cc)),_0x589c41[_0x5de792(0x2e7)](0x191)[_0x5de792(0x23a)]({'error':_0x5de792(0x201)});try{const _0x40a024=await getAppMetadata(_0x2573ae,_0x24d27a);_0x589c41[_0x5de792(0x23a)]({'appId':_0x40a024[_0x5de792(0x209)],'stories':_0x40a024[_0x5de792(0x1ca)]});}catch(_0x43a227){_0x589c41[_0x5de792(0x2e7)](0x1f4)[_0x5de792(0x23a)]({'error':_0x43a227[_0x5de792(0x22b)]});}}),app['get'](a0_0x42f9ea(0x29e),async(_0x543592,_0x57ba37)=>{const _0x2c2d35=a0_0x42f9ea,_0xe9f117=_0x543592[_0x2c2d35(0x2da)][_0x2c2d35(0x209)],_0x134b3c=_0x543592[_0x2c2d35(0x323)][_0x2c2d35(0x1f1)];if(!_0x134b3c)return console[_0x2c2d35(0x247)](_0x2c2d35(0x1cc)),_0x57ba37[_0x2c2d35(0x2e7)](0x191)[_0x2c2d35(0x23a)]({'error':'No\x20Authorization\x20header\x20provided'});try{const _0x4f1635=await getAppMetadata(_0xe9f117,_0x134b3c),_0x5aef4a=Object[_0x2c2d35(0x2ef)](Object['entries'](_0x4f1635[_0x2c2d35(0x1f8)])['map'](([_0x5a1b22,_0x38bebc])=>[_0x5a1b22,{'sourceType':_0x38bebc[_0x2c2d35(0x1df)],'source':_0x38bebc['source'],..._0x38bebc['connection_details']?{'connection_details':_0x38bebc[_0x2c2d35(0x23f)]}:{},..._0x38bebc[_0x2c2d35(0x311)]?{'data_file':_0x38bebc[_0x2c2d35(0x311)]}:{},..._0x38bebc['query']?{'query':_0x38bebc[_0x2c2d35(0x1d4)]}:{}}]));_0x57ba37[_0x2c2d35(0x23a)]({'appId':_0x4f1635[_0x2c2d35(0x209)],'connections':_0x4f1635['connections'],'tableSources':_0x5aef4a,'dataFiles':_0x4f1635[_0x2c2d35(0x1a5)]});}catch(_0x230692){_0x57ba37[_0x2c2d35(0x2e7)](0x1f4)[_0x2c2d35(0x23a)]({'error':_0x230692[_0x2c2d35(0x22b)]});}}),app[a0_0x42f9ea(0x195)]('/all/:appId',async(_0x3b5fe8,_0x47fa9c)=>{const _0x3daf7e=a0_0x42f9ea,_0x4c3e36=_0x3b5fe8['params'][_0x3daf7e(0x209)],_0x44e9c5=_0x3b5fe8[_0x3daf7e(0x323)][_0x3daf7e(0x1f1)];if(!_0x44e9c5)return console[_0x3daf7e(0x247)]('Missing\x20Authorization\x20Header'),_0x47fa9c[_0x3daf7e(0x2e7)](0x191)[_0x3daf7e(0x23a)]({'error':'No\x20Authorization\x20header\x20provided'});try{const _0x537b32=await getAppMetadata(_0x4c3e36,_0x44e9c5);_0x47fa9c[_0x3daf7e(0x23a)](_0x537b32);}catch(_0x5d9977){_0x47fa9c[_0x3daf7e(0x2e7)](0x1f4)[_0x3daf7e(0x23a)]({'error':_0x5d9977['message']});}}),app[a0_0x42f9ea(0x195)](a0_0x42f9ea(0x2c3),async(_0x4644e6,_0x4ca03e)=>{const _0x51c899=a0_0x42f9ea,_0x21f0d3=_0x4644e6[_0x51c899(0x323)][_0x51c899(0x1f1)];if(!_0x21f0d3)return console[_0x51c899(0x247)](_0x51c899(0x1cc)),_0x4ca03e[_0x51c899(0x2e7)](0x191)['json']({'error':_0x51c899(0x201)});try{const _0x4ef42b=await getQlikTenant(_0x21f0d3),_0x5e8ab4={'Authorization':_0x51c899(0x31d)+API_KEY,'Content-Type':_0x51c899(0x302)},_0x28b3ee=await a0_0x59e48b(_0x51c899(0x22a)+_0x4ef42b+_0x51c899(0x296),{'headers':_0x5e8ab4});if(!_0x28b3ee['ok'])throw new Error(_0x51c899(0x28f)+_0x28b3ee['status']+_0x51c899(0x20c)+await _0x28b3ee[_0x51c899(0x25c)]());const _0x331555=await _0x28b3ee[_0x51c899(0x23a)](),_0x21d909=(_0x331555['data']||[])[_0x51c899(0x309)](_0x3a6b6d=>({'id':_0x3a6b6d['id'],'name':_0x3a6b6d[_0x51c899(0x199)],'type':_0x3a6b6d[_0x51c899(0x213)]||'unknown','isPersonal':_0x3a6b6d[_0x51c899(0x213)]===_0x51c899(0x338)})),_0x1b440d={'id':_0x51c899(0x338),'name':'Personal','type':'personal','isPersonal':!![]},_0x360bac=[_0x1b440d,..._0x21d909];_0x4ca03e[_0x51c899(0x23a)](_0x360bac);}catch(_0x31ede0){console['error']('[ERROR]\x20/getSpaces:',_0x31ede0[_0x51c899(0x22b)]),_0x4ca03e[_0x51c899(0x2e7)](0x1f4)['send'](_0x51c899(0x1a4)+_0x31ede0['message']);}}),app[a0_0x42f9ea(0x195)](a0_0x42f9ea(0x21b),async(_0x2ad67c,_0x103c61)=>{const _0x1cb3e6=a0_0x42f9ea,_0x5d6f88=_0x2ad67c[_0x1cb3e6(0x323)]['authorization'];if(!_0x5d6f88)return console['error'](_0x1cb3e6(0x1cc)),_0x103c61[_0x1cb3e6(0x2e7)](0x191)['json']({'error':'No\x20Authorization\x20header\x20provided'});try{const {spaceId:_0x3fac82}=_0x2ad67c['params'],_0x2d9cb2=await getQlikTenant(_0x5d6f88),_0x2cd1dd={'Authorization':_0x1cb3e6(0x31d)+API_KEY,'Content-Type':_0x1cb3e6(0x302)},_0x1276f1=_0x3fac82===_0x1cb3e6(0x338)?'https://'+_0x2d9cb2+'/api/v1/apps?personal=true&limit=100':_0x1cb3e6(0x22a)+_0x2d9cb2+'/api/v1/apps?spaceId='+_0x3fac82+'&limit=100',_0x238af7=await a0_0x59e48b(_0x1276f1,{'headers':_0x2cd1dd});if(!_0x238af7['ok'])throw new Error(_0x1cb3e6(0x28f)+_0x238af7[_0x1cb3e6(0x2e7)]+'\x20-\x20'+await _0x238af7[_0x1cb3e6(0x25c)]());const _0x16ec60=await _0x238af7[_0x1cb3e6(0x23a)](),_0xd02d35=_0x16ec60[_0x1cb3e6(0x290)]||[],_0x55e20b=_0x3fac82===_0x1cb3e6(0x338)?_0xd02d35[_0x1cb3e6(0x2ce)](_0x5e1b3b=>_0x5e1b3b['attributes']?.[_0x1cb3e6(0x1dd)]===undefined||_0x5e1b3b['attributes']?.[_0x1cb3e6(0x1dd)]===null):_0xd02d35[_0x1cb3e6(0x2ce)](_0xbffbc4=>_0xbffbc4[_0x1cb3e6(0x1b7)]?.[_0x1cb3e6(0x1dd)]===_0x3fac82),_0x5bb85b=_0x55e20b[_0x1cb3e6(0x309)](_0x5267a7=>({'id':_0x5267a7[_0x1cb3e6(0x1b7)]?.['id']||_0x5267a7['id'],'name':_0x5267a7['attributes']?.[_0x1cb3e6(0x199)]||_0x5267a7[_0x1cb3e6(0x199)],'spaceId':_0x3fac82}));_0x103c61[_0x1cb3e6(0x23a)](_0x5bb85b);}catch(_0x499110){console['error'](_0x1cb3e6(0x2d4),_0x499110[_0x1cb3e6(0x22b)]),_0x103c61[_0x1cb3e6(0x2e7)](0x1f4)[_0x1cb3e6(0x193)](_0x1cb3e6(0x2a3)+_0x499110['message']);}}),app[a0_0x42f9ea(0x195)](a0_0x42f9ea(0x334),(_0x25a0b4,_0x588299)=>_0x588299[a0_0x42f9ea(0x193)]('OK')),setInterval(()=>{const _0x42aa15=a0_0x42f9ea;a0_0x59e48b('http://localhost:'+PORT+_0x42aa15(0x334))[_0x42aa15(0x173)](_0x3b70a4=>console[_0x42aa15(0x210)]('ðŸ’“\x20Keep-alive\x20OK:',_0x3b70a4['status']))[_0x42aa15(0x2e6)](_0xb66fff=>console[_0x42aa15(0x247)](_0x42aa15(0x2f3),_0xb66fff[_0x42aa15(0x22b)]));},0x3a980),app[a0_0x42f9ea(0x2f2)](PORT,()=>{const _0x390860=a0_0x42f9ea;console[_0x390860(0x210)](_0x390860(0x1ff)+PORT);});